{"version":3,"sources":["constants/break_point.js","components/public/public.js","components/Post/Post.js","webAPI.js","redux/reducers/postsReducer.js","static/frontpage_icon-01.jpg","static/frontpage_icon-02.jpg","static/frontpage_icon-03.jpg","pages/HomePages/HomePage.js","utils.js","redux/reducers/usersReducer.js","components/UserForm/UserForm.js","pages/LoginPages/LoginPage.js","pages/RegisterPages/RegisterPage.js","components/Paginator/Paginator.js","pages/ExplorePages/ExplorePage.js","components/DatePicker/DatePicker.js","pages/CreatePages/CreatePage.js","pages/UserPages/UserPages.js","pages/EditPages/EditPage.js","static/static.js","components/ScheduleForm.js","redux/reducers/postItsReducer.js","redux/reducers/mapMarkReducer.js","components/PostItItem/PostItItem.js","redux/reducers/schedulesReducer.js","pages/PlanningPages/DayLists.js","pages/PlanningPages/ScheduleAddForm.js","pages/PlanningPages/ScheduleUpdateForm.js","pages/PlanningPages/Map.js","constants/key.js","pages/PlanningPages/PlanningPage.js","redux/reducers/finishPlanReducer.js","components/PlanTemplate.js","pages/FinishPlanPages/FinishPlanPage.js","pages/ExploreSinglePages/ExploreSinglePage.js","components/Footer/Footer.js","static/logo_static.svg","static/logo.svg","components/Header/Header.js","components/App/App.js","redux/store.js","index.js"],"names":["MEDIA_QUERY_EXSM","MEDIA_QUERY_SM","MEDIA_QUERY_MD","MEDIA_QUERY_LG","Wrapper","styled","div","props","$solidPlate","$atHomepage","theme","heights","header","footer","FormWrapper","basicColors","grayLighter","LoadingContainer","titles","h4","secondaryColors","secondaryDarker","LoadingPage","Container","primaryColors","primaryLighter","white","PostContainer","Title","fontSizes","medium","primaryDarker","ContentLeftContainer","ContentRightContainer","Dates","extraSmall","primary","Location","small","Arthur","HashtagContainer","Hashtag","primaryDark","Post","postData","history","useHistory","hashtags","dailyRoutines","dateRange","start","hashtagsArr","changeMillisecondsToLocalDate","milliseconds","day","Date","getDate","month","getMonth","year","getFullYear","filter","hashtag","category","map","filterHashtag","push","location","title","scheduleName","arthur","User","nickname","fbName","startDate","endDate","end","id","userId","onClick","handleTitleOnClick","length","index","BASE_URL","getScheduleContent","scheduleId","fetch","then","res","json","getUserDataAPI","method","headers","body","response","toggleScheduleIsfinishedAPI","checkedStatus","JSON","stringify","FbRegisterAPI","FbLoginAPI","postsReducer","createSlice","name","initialState","posts","post","singlePost","isLoading","reducers","setIsLoading","state","action","payload","setPosts","setSinglePost","user","setPost","actions","getSinglePost","dispatch","getSinglePostAPI","getPosts","catch","error","console","log","getFilteredPosts","keyword","getFilteredPostsAPI","Heading","h5","BannerContainer","PostsContainer","IntroContainer","IntroImage","$01","frontPageIcon01","$02","frontPageIcon02","$03","frontPageIcon03","IntroTitle","h6","IntroContent","MoreTag","Link","secondaryLighter","ExploreDirectorContainer","ExploreDirector","button","HomePage","useLocation","useDispatch","postsData","useSelector","store","locations","schedules","scheduleLocations","useEffect","pathname","slice","to","handleExploreDirectorOnClick","TOKEN_NAME","setAuthTokenToLocalStorage","token","localStorage","setItem","setAuthTokenFromSessionStorage","key","value","sessionStorage","getAuthTokenFromSessionStorage","getItem","deleteAuthTokenFromSessionStorage","removeItem","FBstartApp","statusChangeCallback","a","status","Promise","resolve","window","FB","api","fields","ok","FBUserData","login","authResponse","message","scope","getLoginStatus","loginStatus","usersReducer","authTokenResponse","userData","scheduleData","createErrorMessage","registerErrorMessage","loginErrorMessage","setAuthTokenResponse","setUserData","setSchedules","setScheduleData","setCreateErrorMessage","setRegisterErrorMessage","setLoginErrorMessage","registerUser","username","password","email","registerAPI","toString","loginAPI","getUnfinishedSchedules","getAllUnfinishedschedulesAPI","getFinishedSchedules","getAllFinishedschedulesAPI","checkIsLogin","parse","deleteSchedule","UserId","result","deleteScheculeAPI","ToggleCheckBoxChanged","createSchedule","dates","range","i","setDate","calcDates","createScheduleAPI","FormContainer","large","UserInput","input","secondaryLight","h3","UserInputContainer","UserButtonContainer","UserButtonBorder","UserButtonBackground","UserButtonText","ErrorMessage","ReminderContainer","RegisterReminder","RegisterLink","DemoAcountReminder","FacebookOutlinedStyle","transform","cursor","LoginPage","useState","setUsername","setPassword","usernameErrorMessage","setUsernameErrorMessage","passwordErrorMessage","setPasswordErrorMessage","users","placeholder","onChange","event","target","type","FacebookOutlined","fbResponse","fbId","fbEmail","style","RegisterPage","setNickname","setEmail","nicknameErrorMessage","setNicknameErrorMessage","emailErrorMessage","setEmailErrorMessage","errorMessage","includes","handleUserButtonOnClick","PaginatorContainer","PagesContainer","Page","$active","ControlerContainer","Previous","$inactive","secondary","Next","Paginator","setCurrentPage","currentPage","limit","paginateArray","setPaginateArray","pages","setPages","pagesNumber","parseInt","array","page","handleSwitchPage","FilterContainer","LocationFilter","primaryLight","dark","ExplorePage","slug","useParams","setFilter","handleFilterOnClick","DatePickerContainer","Example","setStartDate","setEndDate","className","dateFormat","selected","date","getTime","minDate","selectsStart","selectsEnd","SubTitle","Select","select","SubContainer","userInputStyle","marginTop","FormContainerStyle","padding","destinationSelects","CreatePage","currentDate","currentMonth","currentYear","setScheduleName","setLocation","scheduleNameErrorMessage","setScheduleNameErrorMessage","zIndex","ScheduleWrapper","ScheduleContainer","LeftContainer","LeftDownContainer","RightContainer","RightUpContainer","RightDownContainer","CheckBox","CheckBoxLabel","label","SideList","black","SideButton","Reminder","Schedule","handleDeleteOutlinedOnClick","handleCheckboxOnChange","handleScheduleTitleOnClick","startData","endData","checked","isFinished","htmlfor","icon","faTrashAlt","UserPage","isChangingIsFinished","setIsChangingIsFinished","isDeleting","setIsDeleting","buttonActive","setButtonActive","destination","setDestination","setErrorMessage","ScheduleDetailForm","form","$isEdit","CloseButton","Button","postItsReducer","postItId","spots","columns","postIt","spotsIds","dailyRoutine","columnsOrder","isPostItsSaved","setIsPostItsSaved","setSpots","setPostItId","setSpotsIds","setStartColumns","sourceId","newStart","setFinishColumns","destinationId","newFinish","setIsScheduled","isScheduled","deletePostIt","splice","deletePostItByPlaceId","Object","keys","find","placeId","spotId","addPostIt","memo","addPostItFromMark","updatePostIt","updateId","savePostIts","savePostItsAPI","mapMarksReducer","markLocations","isMarkDeleted","origin","directionSteps","originId","isMarkerSaved","setIsMarkerSaved","setMarker","setMarkLocations","formattedAddress","lat","lng","deleteMarkLocation","deleteMapMarkByPlaceId","setIsMarkDeleted","setOrigin","setOriginId","setDirectionSteps","saveMarkers","markers","saveMarkersAPI","PostItWrapper","isDraggingOver","PostIt","isDragging","PostItInfo","PostItButtons","DeleteButton","UpdateButton","AddPostItWrapper","AddPostIt","PostItForm","secondaryDark","PostItItem","isAddClick","setIsAddClick","isUpdateClick","setIsUpdateClick","setCategory","setMemo","setUpdateId","postIts","spotIds","handleAddPostItClick","canSubmit","Boolean","droppableId","provided","snapshot","ref","innerRef","droppableProps","draggableId","isDragDisabled","draggableProps","dragHandleProps","faHotel","faShoppingBag","faUtensils","faCampground","handleDeletePostItClick","handleUpdatePostItClick","onSubmit","e","preventDefault","handleUpdatePostItFormSubmit","disabled","handlePostItFormSubmit","schedulesReducer","isRouteSaved","isRoutineSaved","editId","orderByStartRoutines","routes","setIsRouteSaved","setIsRoutineSaved","setSpotId","setDailyRoutines","setDateRange","deleteDailyRoutines","updateDailyRoutines","selectedId","routine","addDailyRoutines","addDailyRoutinesFromPostIt","setEditId","setCurrentDate","setOrderByStartRoutines","saveAllDailyRoutines","orderRoutines","setRoutes","setRoute","updateRoute","route","deleteRouteByOriginId","setScheduleLocations","setDailyRoutinesKey","saveRoutes","saveRoutesAPI","saveDailyRoutines","saveRoutines","sort","b","saveDailyRoutinesAPI","DayList","DayButton","SaveButton","SaveMessage","DayLists","spotsId","mapMarks","isSaved","useCallback","Number","toLocaleString","ScheduleAddForm","setStart","setEnd","budget","setBudget","handleAddScheduleSubmit","add","isInteger","showTimeSelect","showTimeSelectOnly","timeIntervals","timeCaption","onChangeRaw","ScheduleUpdateForm","editRoutine","editIndex","handleScheduleUpdateFormSubmit","update","undefined","MapAreaWrapper","MapWrapper","SearchBoxWrapper","SearchInput","SearchAutocompleteWrapper","SearchAutocomplete","DirectionsWrapper","$isMapDragged","DirectionCloseButton","DirectionsForm","DirectionResult","DirectionsBox","DirectionsButton","DirectionResultButton","MarkAlert","LocationMark","LocationMarkInfo","MapArea","defaultProps","center","zoom","isApiLoaded","setIsApiLoaded","mapsApi","setMapsApi","mapInstance","setMapInstance","searchText","setSearchText","autocompleteResults","setAutocompleteResults","currentCenter","setCurrentCenter","isMarked","setIsMarked","isRouteAlertShow","setIsRouteAlertShow","isMapDragged","setIsMapDragged","currentDirectionsDisplay","setCurrentDirectionsDisplay","addListener","handleAutocomplete","places","AutocompleteService","getPlacePredictions","results","PlacesServiceStatus","OK","handleAutocompleteClick","service","PlacesService","request","getDetails","geometry","contentString","infowindow","InfoWindow","content","marker","Marker","position","open","close","setMap","pinLocations","place","formatted_address","handleMarkSearchPlaceClick","travelMode","setTravelMode","isRouteInfoShow","setIsRouteInfoShow","handleSearchInputChange","description","directionsService","DirectionsService","directionsDisplay","DirectionsRenderer","document","getElementById","innerText","setPanel","TravelMode","drivingOptions","departureTime","transitOptions","setDirections","routeResult","legs","duration","text","steps","transitInfo","transitDuration","instructions","arrivalStop","transit","departureStop","line","handleDirectionSubmit","bootstrapURLKeys","libraries","defaultCenter","defaultZoom","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","maps","handleApiLoaded","PlanWrapper","ScheduleTitle","ScheduleList","ul","ScheduleItemWrapper","ScheduleCategory","ScheduleItem","ScheduleItemContent","li","ScheduleTimeWrapper","ScheduleTime","SchedulePlus","SettingButtonWrapper","SettingButton","TrafficInfoWrapper","TrafficInfoDeleteButton","TrafficDuration","TransitLines","TransitLineWrapper","TransitLine","TransitInfo","TransitStop","LoadingDiv","h1","PlanningPage","isPostItsLoading","isMarkerssLoading","isSchedulesLoading","setEditRoutine","setEditIndex","handleSchedulePlusClick","handleDeleteClick","findIndex","deleteSpot","initDailyRoutines","initSchedules","initMarkers","initPostIts","onDragEnd","source","startColumn","finishColumn","newSpotsIds","Array","from","newColumn","finishSpotsIds","draggingSpot","addFromPostIt","setDestinationColumn","handleScheduleItemClick","handleSetOriginClick","handleSetDestinationClick","toLocaleTimeString","timeStyle","hour12","step","handleDeleteRouteClick","finishPlanReducer","getFinishPlan","getFinishPlanAPI","Wrappers","largeWidth","PlanHeader","PlanLocation","PlanTitle","PlanColumn","RoutineTitle","mudium","RoutineWrapper","Spot","SpotInfo","SpotName","TimeWrapper","SpotCategory","SpotMemo","FinishPlanPage","finishPlans","setDates","datesTest","PlanNickname","ExploreSinglePage","scheduleInfo","scroll","FooterContainer","Footer","_extends","assign","arguments","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","display","x","y","fill","stroke","strokeMiterlimit","width","height","points","x1","y1","x2","y2","strokeWidth","d","cx","cy","r","_ref5","_ref6","_ref7","SvgLogo","_ref","svgRef","titleId","xmlns","xmlnsXlink","viewBox","enableBackground","xmlSpace","ForwardRef","HeaderContainer","homepageHeader","HeaderUpContainer","Logo","logo","Brand","NavbarWrapper","NavbarButton","NavbarList","$isNavbarListShow","Nav","HeaderSlogan","Header","isCheckedLogin","isNavbarListShow","setIsNavbarListShow","handleLogout","as","App","FBdeleteApp","setIsCheckedLogin","exact","path","configureStore","reducer","extraLarge","h2","extraLargeWidth","mediumWidth","smallWidth","extraSmallWidth","fbAsyncInit","init","appId","cookie","xfbml","version","AppEvents","logPageView","s","js","fjs","getElementsByTagName","createElement","src","parentNode","insertBefore","ReactDOM","render"],"mappings":"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","file":"static/js/main.95e4ba98.chunk.js","sourcesContent":["export const MEDIA_QUERY_EXSM = \"@media screen and (max-width: 480px)\";\r\nexport const MEDIA_QUERY_SM = \"@media screen and (max-width: 600px)\";\r\nexport const MEDIA_QUERY_MD = \"@media screen and (max-width: 780px)\";\r\nexport const MEDIA_QUERY_LG = \"@media screen and (max-width: 1140px)\";\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { MEDIA_QUERY_SM } from \"../../constants/break_point\";\r\n\r\nexport const Wrapper = styled.div`\r\n  position: relative;\r\n  width: 75vw;\r\n  height: ${(props) => (props.$solidPlate ? \"100vh\" : \"auto\")};\r\n  min-height: 100vh;\r\n  margin: 0 auto;\r\n  padding-top: ${(props) =>\r\n    props.$atHomepage ? \"0\" : props.theme.heights.header};\r\n  padding-bottom: ${(props) => props.theme.heights.footer};\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    width: 100vw;\r\n  }\r\n`;\r\n\r\nexport const FormWrapper = styled.div`\r\n  position: relative;\r\n  height: 100vh;\r\n  min-height: 100vh;\r\n  margin: 0 auto;\r\n  padding-top: ${(props) =>\r\n    props.$atHomepage ? \"0\" : props.theme.heights.header};\r\n  padding-bottom: ${(props) => props.theme.heights.footer};\r\n  background: ${(props) => props.theme.basicColors.grayLighter};\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    width: 100vw;\r\n  }\r\n`;\r\n\r\nconst LoadingContainer = styled.div`\r\n  position: relative;\r\n  min-height: 100vh;\r\n  top: -${(props) => props.theme.heights.header};\r\n  padding-top: ${(props) => props.theme.heights.header};\r\n  padding-bottom: ${(props) => props.theme.heights.footer};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: transparent;\r\n  font-size: ${(props) => props.theme.titles.h4};\r\n  color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n`;\r\n\r\nexport function LoadingPage() {\r\n  return (\r\n    <Wrapper $solidPlate={true}>\r\n      <LoadingContainer>loading!</LoadingContainer>\r\n    </Wrapper>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { MEDIA_QUERY_MD } from \"../../constants/break_point\";\r\n\r\nconst Container = styled.div`\r\n  width: calc(50% - 5px);\r\n  height: fit-content;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 10px;\r\n  border: none;\r\n  border-radius: 20px;\r\n  background: ${(props) => props.theme.primaryColors.primaryLighter};\r\n  transition: all 0.5s ease;\r\n\r\n  &:hover {\r\n    background: ${(props) => props.theme.basicColors.white};\r\n    box-shadow: 0px 2px 5px grey;\r\n  }\r\n\r\n  ${MEDIA_QUERY_MD} {\r\n    width: 80%;\r\n  }\r\n`;\r\n\r\nconst PostContainer = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  padding: 15px;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Title = styled.div`\r\n  padding: 5px 0;\r\n  font-size: ${(props) => props.theme.fontSizes.medium};\r\n  font-weight: bold;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  color: ${(props) => props.theme.primaryColors.primaryDarker};\r\n`;\r\n\r\nconst ContentLeftContainer = styled.div`\r\n  width: 80%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ContentRightContainer = styled.div`\r\n  position: relative;\r\n  padding: 5px 0px 0px 0px;\r\n`;\r\n\r\nconst Dates = styled.div`\r\n  font-size: ${(props) => props.theme.fontSizes.extraSmall};\r\n  line-height: ${(props) => props.theme.fontSizes.extraSmall};\r\n  font-weight: bold;\r\n  color: ${(props) => props.theme.primaryColors.primary};\r\n`;\r\n\r\nconst Location = styled.div`\r\n  padding: 5px;\r\n  border-radius: 10px;\r\n  background: ${(props) => props.theme.primaryColors.primaryDarker};\r\n  color: ${(props) => props.theme.primaryColors.primaryLighter};\r\n  font-size: ${(props) => props.theme.fontSizes.small};\r\n  font-weight: bold;\r\n`;\r\n\r\nconst Arthur = styled.div`\r\n  margin-top: 5px;\r\n  font-size: ${(props) => props.theme.fontSizes.extraSmall};\r\n  font-weight: bold;\r\n  color: ${(props) => props.theme.primaryColors.primary};\r\n`;\r\n\r\nconst HashtagContainer = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 0 10px 10px;\r\n`;\r\n\r\nconst Hashtag = styled.div`\r\n  margin: 2.5px;\r\n  padding: 2px;\r\n  color: white;\r\n  background: ${(props) => props.theme.primaryColors.primaryDark};\r\n  border: none;\r\n  border-radius: 5px;\r\n`;\r\n\r\nexport default function Post({ postData }) {\r\n  const history = useHistory();\r\n  const hashtags = postData.dailyRoutines[postData.dateRange.start];\r\n  let hashtagsArr = [];\r\n  hashtags\r\n    .filter((hashtag) => hashtag.category !== \"hotel\")\r\n    .map((filterHashtag) => hashtagsArr.push(filterHashtag.location));\r\n\r\n  function changeMillisecondsToLocalDate(milliseconds) {\r\n    const day = new Date(milliseconds).getDate();\r\n    const month = new Date(milliseconds).getMonth();\r\n    const year = new Date(milliseconds).getFullYear();\r\n    return `${year}/ ${month + 1}/ ${day}`;\r\n  }\r\n\r\n  function handleTitleOnClick(id) {\r\n    history.push(`/explore/${id}`);\r\n  }\r\n\r\n  const title = postData.scheduleName;\r\n  const location = postData.location;\r\n  const arthur = postData.User.nickname\r\n    ? postData.User.nickname\r\n    : postData.User.fbName;\r\n  const dateRange = postData.dateRange;\r\n  const startDate = changeMillisecondsToLocalDate(dateRange.start);\r\n  const endDate = changeMillisecondsToLocalDate(dateRange.end);\r\n  const id = postData.id;\r\n  const userId = postData.userId;\r\n\r\n  return (\r\n    <Container>\r\n      <PostContainer>\r\n        {/* <Image /> */}\r\n        <ContentLeftContainer onClick={() => handleTitleOnClick(id, userId)}>\r\n          <Title>{title}</Title>\r\n          <Dates>\r\n            {startDate} - {endDate}\r\n          </Dates>\r\n          <Arthur>{arthur}</Arthur>\r\n        </ContentLeftContainer>\r\n        <ContentRightContainer>\r\n          {/* <HeadSticker /> */}\r\n          <Location>{location}</Location>\r\n        </ContentRightContainer>\r\n      </PostContainer>\r\n      <HashtagContainer>\r\n        {hashtagsArr.length > 0 &&\r\n          hashtagsArr.map((hashtag, index) => (\r\n            <Hashtag key={index}>{hashtag}</Hashtag>\r\n          ))}\r\n      </HashtagContainer>\r\n    </Container>\r\n  );\r\n}\r\n","const BASE_URL = \"https://hit-the-road.mings.tw\";\r\n// const BASE_URL_BACKUP = \"https://hit-the-road.mings.tw\";\r\n\r\nexport function getAllUnfinishedschedulesAPI(id) {\r\n  return fetch(`${BASE_URL}/schedules/${id}?isFinished=0`).then((response) =>\r\n    response.json()\r\n  );\r\n}\r\n\r\nexport function getAllFinishedschedulesAPI(id) {\r\n  return fetch(`${BASE_URL}/schedules/${id}?isFinished=1`).then((response) =>\r\n    response.json()\r\n  );\r\n}\r\n\r\nexport function updateSchedule(url, json) {\r\n  return fetch(url, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: json,\r\n  }).then((response) => response.json());\r\n}\r\n\r\nexport const getScheduleContent = (userId, scheduleId) => {\r\n  return fetch(`${BASE_URL}/schedules/${userId}/${scheduleId}`).then((res) =>\r\n    res.json()\r\n  );\r\n};\r\n\r\nexport const saveMarkersAPI = (markers, userId, scheduleId) => {\r\n  return fetch(`${BASE_URL}/schedules/${scheduleId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      markers,\r\n      UserId: userId,\r\n    }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const savePostItsAPI = (\r\n  spots,\r\n  spotsIds,\r\n  postItId,\r\n  userId,\r\n  scheduleId\r\n) => {\r\n  return fetch(`${BASE_URL}/schedules/${scheduleId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      spots,\r\n      spotsIds,\r\n      postItId,\r\n      UserId: userId,\r\n    }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const saveRoutesAPI = (routes, userId, scheduleId) => {\r\n  return fetch(`${BASE_URL}/schedules/${scheduleId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      routes,\r\n      UserId: userId,\r\n    }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const saveDailyRoutinesAPI = (\r\n  dailyRoutines,\r\n  spotId,\r\n  userId,\r\n  scheduleId\r\n) => {\r\n  return fetch(`${BASE_URL}/schedules/${scheduleId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      dailyRoutines,\r\n      spotId,\r\n      UserId: userId,\r\n    }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const saveDailyRoutinesKeyAPI = (dailyRoutines, userId, scheduleId) => {\r\n  return fetch(`${BASE_URL}/schedules/${scheduleId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      dailyRoutines,\r\n      UserId: userId,\r\n    }),\r\n  }).then((res) => res.json());\r\n};\r\n\r\nexport const getFinishPlanAPI = (userId, scheduleId) => {\r\n  return fetch(`${BASE_URL}/schedules/${userId}/${scheduleId}`).then((res) =>\r\n    res.json()\r\n  );\r\n};\r\n\r\nexport const getSinglePostAPI = (scheduleId) => {\r\n  return fetch(`${BASE_URL}/posts/${scheduleId}`).then((res) => res.json());\r\n};\r\n\r\nexport const deleteScheculeAPI = (id, json) => {\r\n  return fetch(`${BASE_URL}/schedules/${id}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: json,\r\n  }).then((result) => result.json());\r\n};\r\n\r\nexport const getUserDataAPI = (json) => {\r\n  return fetch(`${BASE_URL}/users`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: json,\r\n  }).then((response) => response.json());\r\n};\r\n\r\nexport const toggleScheduleIsfinishedAPI = (\r\n  scheduleId,\r\n  checkedStatus,\r\n  body\r\n) => {\r\n  return fetch(\r\n    `${BASE_URL}/schedules/${scheduleId}?isFinished=${checkedStatus}`,\r\n    {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    }\r\n  ).then((response) => {\r\n    return response.json();\r\n  });\r\n};\r\n\r\nexport const createScheduleAPI = (json) => {\r\n  return fetch(`${BASE_URL}/schedules`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: json,\r\n  }).then((result) => result.json());\r\n};\r\n\r\nexport const getFilteredPostsAPI = (keyword) => {\r\n  return fetch(`${BASE_URL}/posts?filter=${keyword}`).then((response) =>\r\n    response.json()\r\n  );\r\n};\r\n\r\nexport const getPostsAPI = () => {\r\n  return fetch(`${BASE_URL}/posts`).then((response) => response.json());\r\n};\r\n\r\nexport const registerAPI = (json) => {\r\n  return fetch(`${BASE_URL}/register/common`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: json,\r\n  }).then((response) => response.json());\r\n};\r\n\r\nexport const FbRegisterAPI = (json) => {\r\n  return fetch(`${BASE_URL}/register/fb`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: json,\r\n  }).then((response) => response.json());\r\n};\r\n\r\nexport const loginAPI = (json) => {\r\n  return fetch(`${BASE_URL}/login/common`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: json,\r\n  }).then((response) => response.json());\r\n};\r\n\r\nexport const FbLoginAPI = (json) => {\r\n  return fetch(`${BASE_URL}/login/fb`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    body: json,\r\n  }).then((response) => response.json());\r\n};\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport {\r\n  getSinglePostAPI,\r\n  getFilteredPostsAPI,\r\n  getPostsAPI,\r\n} from \"../../webAPI\";\r\n\r\nexport const postsReducer = createSlice({\r\n  name: \"posts\",\r\n  initialState: {\r\n    posts: null,\r\n    post: null,\r\n    singlePost: {},\r\n    isLoading: false,\r\n  },\r\n  reducers: {\r\n    setIsLoading: (state, action) => {\r\n      state.isLoading = action.payload;\r\n    },\r\n    setPosts: (state, action) => {\r\n      state.posts = action.payload;\r\n    },\r\n    setSinglePost: (state, action) => {\r\n      const { User, scheduleName, location, dailyRoutines } = action.payload;\r\n      state.singlePost.user = User;\r\n      state.singlePost.scheduleName = scheduleName;\r\n      state.singlePost.location = location;\r\n      state.singlePost.dailyRoutines = dailyRoutines;\r\n    },\r\n    setPost: (state, action) => {\r\n      state.post = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setIsLoading,\r\n  setPosts,\r\n  setPost,\r\n  setSinglePost,\r\n} = postsReducer.actions;\r\n\r\nexport const getSinglePost = (scheduleId) => (dispatch) => {\r\n  dispatch(setIsLoading(true));\r\n  getSinglePostAPI(scheduleId).then((res) => {\r\n    dispatch(setSinglePost(res));\r\n    dispatch(setIsLoading(false));\r\n  });\r\n};\r\n\r\nexport const getPosts = () => (dispatch) => {\r\n  dispatch(setIsLoading(true));\r\n\r\n  getPostsAPI()\r\n    .then((json) => dispatch(setPosts(json)))\r\n    .catch((error) => console.log(error));\r\n\r\n  dispatch(setIsLoading(false));\r\n};\r\n\r\nexport const getFilteredPosts = (keyword) => (dispatch) => {\r\n  dispatch(setIsLoading(true));\r\n  if (keyword === \"全部\") {\r\n    return dispatch(getPosts());\r\n  }\r\n  getFilteredPostsAPI(keyword)\r\n    .then((json) => {\r\n      dispatch(setPosts(json));\r\n    })\r\n    .catch((error) => console.log(error));\r\n\r\n  dispatch(setIsLoading(false));\r\n};\r\n\r\nexport default postsReducer.reducer;\r\n","export default __webpack_public_path__ + \"static/media/frontpage_icon-01.1e587300.jpg\";","export default __webpack_public_path__ + \"static/media/frontpage_icon-02.cfd6a08f.jpg\";","export default __webpack_public_path__ + \"static/media/frontpage_icon-03.cf93fe95.jpg\";","import React, { useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Wrapper } from \"../../components/public\";\r\nimport { useLocation, Link, useHistory } from \"react-router-dom\";\r\nimport Post from \"../../components/Post\";\r\nimport { getPosts, setPosts } from \"../../redux/reducers/postsReducer\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport frontPageIcon01 from \"../../static/frontpage_icon-01.jpg\";\r\nimport frontPageIcon02 from \"../../static/frontpage_icon-02.jpg\";\r\nimport frontPageIcon03 from \"../../static/frontpage_icon-03.jpg\";\r\nimport {\r\n  MEDIA_QUERY_LG,\r\n  MEDIA_QUERY_SM,\r\n  MEDIA_QUERY_MD,\r\n} from \"../../constants/break_point\";\r\n\r\nconst Heading = styled.div`\r\n  margin: 60px auto 30px;\r\n  text-align: center;\r\n  font-weight: bolder;\r\n  font-size: ${(props) => props.theme.titles.h5};\r\n  color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n`;\r\n\r\nconst BannerContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nconst PostsContainer = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nconst IntroContainer = styled.div`\r\n  width: 300px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: 10px;\r\n  box-shadow: 0.5px 0.5px 3px -1px;\r\n\r\n  & + & {\r\n    margin-left: 5px;\r\n  }\r\n\r\n  ${MEDIA_QUERY_LG} {\r\n    width: 240px;\r\n  }\r\n\r\n  ${MEDIA_QUERY_MD} {\r\n    width: 200px;\r\n  }\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    & + & {\r\n      margin-top: 10px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst IntroImage = styled.div`\r\n  height: 260px;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n\r\n  ${(props) =>\r\n    props.$01 &&\r\n    `\r\n    background-image: url(${frontPageIcon01});\r\n  `}\r\n\r\n  ${(props) =>\r\n    props.$02 &&\r\n    `\r\n    background-image: url(${frontPageIcon02});\r\n  `}\r\n\r\n  ${(props) =>\r\n    props.$03 &&\r\n    `\r\n    background-image: url(${frontPageIcon03});\r\n  `}\r\n\r\n  ${MEDIA_QUERY_LG} {\r\n    height: 200px;\r\n  }\r\n\r\n  ${MEDIA_QUERY_MD} {\r\n    height: 140px;\r\n  }\r\n`;\r\n\r\nconst IntroTitle = styled.div`\r\n  width: 120px;\r\n  margin: 10px auto 0px;\r\n  border-bottom: 1px solid ${(props) => props.theme.primaryColors.primaryDarker};\r\n  font-size: ${(props) => props.theme.titles.h6};\r\n  text-align: center;\r\n  font-weight: bold;\r\n  color: ${(props) => props.theme.primaryColors.primaryDarker};\r\n\r\n  ${MEDIA_QUERY_MD} {\r\n    font-size: ${(props) => props.theme.fontSizes.medium};\r\n  }\r\n`;\r\n\r\nconst IntroContent = styled.div`\r\n  min-height: 120px;\r\n  padding: 15px 20px;\r\n  word-break: break-all;\r\n  text-align: justify;\r\n  font-weight: bold;\r\n  color: ${(props) => props.theme.primaryColors.primaryDarker};\r\n\r\n  ${MEDIA_QUERY_MD} {\r\n    padding: 5px 20px;\r\n    min-height: 100px;\r\n    font-size: ${(props) => props.theme.fontSizes.small};\r\n    line-height: ${(props) => props.theme.fontSizes.medium};\r\n  }\r\n`;\r\n\r\nconst MoreTag = styled(Link)`\r\n  display: block;\r\n  margin: 30px auto;\r\n  padding: 2px 5px;\r\n  width: 200px;\r\n  border-radius: 5px;\r\n  font-size: ${(props) => props.theme.fontSizes.small};\r\n  border: 1px solid ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  text-align: center;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  transition: color 0.5s ease, background 1s ease;\r\n\r\n  &:hover {\r\n    box-shadow: 0 1px 2px grey;\r\n    color: ${(props) => props.theme.secondaryColors.secondaryLighter};\r\n    background: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  }\r\n`;\r\n\r\nconst ExploreDirectorContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n  margin: 20px auto;\r\n  border-radius: 10px;\r\n  padding: 12px 8px;\r\n  background-color: ${(props) => props.theme.primaryColors.primaryLighter};\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    width: 80vw;\r\n  }\r\n`;\r\n\r\nconst ExploreDirector = styled.button`\r\n  display: block;\r\n  padding: 2px 5px;\r\n  border-radius: 5px;\r\n  font-size: ${(props) => props.theme.fontSizes.small};\r\n  margin: 5px;\r\n  border: 1px solid white;\r\n  color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  text-align: center;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  background: ${(props) => props.theme.secondaryColors.secondaryLighter};\r\n  transition: color 0.5s ease, background 1s ease;\r\n\r\n  &:hover {\r\n    box-shadow: 0 1px 2px grey;\r\n    color: ${(props) => props.theme.secondaryColors.secondaryLighter};\r\n    background: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  }\r\n`;\r\n\r\nexport default function HomePage() {\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n  const postsData = useSelector((store) => store.posts.posts);\r\n  const history = useHistory();\r\n  const locations = useSelector((store) => store.schedules.scheduleLocations);\r\n\r\n  useEffect(() => {\r\n    dispatch(getPosts());\r\n  }, [dispatch]);\r\n\r\n  function handleExploreDirectorOnClick(location) {\r\n    dispatch(setPosts(null));\r\n    history.push(`/explore/location/${location}`);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Wrapper $atHomepage={location.pathname === \"/\"}>\r\n        <Heading>網站簡介</Heading>\r\n        <BannerContainer>\r\n          <IntroContainer>\r\n            <IntroImage $01={true}></IntroImage>\r\n            <IntroTitle>planning</IntroTitle>\r\n            <IntroContent>\r\n              計畫你的每一次旅程，包含交通、時間、景點、預算，通通交給\r\n              Hittheroad。\r\n            </IntroContent>\r\n          </IntroContainer>\r\n          <IntroContainer>\r\n            <IntroImage $02={true}></IntroImage>\r\n            <IntroTitle>Post-it</IntroTitle>\r\n            <IntroContent>\r\n              輕鬆的用 Google Maps 工具來建立便利貼，快速規劃您的行程。\r\n            </IntroContent>\r\n          </IntroContainer>\r\n          <IntroContainer>\r\n            <IntroImage $03={true}></IntroImage>\r\n            <IntroTitle>album</IntroTitle>\r\n            <IntroContent>\r\n              與朋友、家人及網路上的每一個人分享你精彩的旅程。\r\n            </IntroContent>\r\n          </IntroContainer>\r\n        </BannerContainer>\r\n        <Heading>探索別人的旅程</Heading>\r\n        {postsData && (\r\n          <PostsContainer>\r\n            {postsData.slice(0, 4).map((post, index) => (\r\n              <Post postData={post} key={index}></Post>\r\n            ))}\r\n          </PostsContainer>\r\n        )}\r\n        <MoreTag to={\"/explore/全部\"}>more</MoreTag>\r\n        <Heading>依地區搜尋不同旅程</Heading>\r\n        <ExploreDirectorContainer>\r\n          {locations.map((location) => {\r\n            return (\r\n              <ExploreDirector\r\n                key={location}\r\n                onClick={() => handleExploreDirectorOnClick(location)}\r\n              >\r\n                {location}\r\n              </ExploreDirector>\r\n            );\r\n          })}\r\n        </ExploreDirectorContainer>\r\n      </Wrapper>\r\n    </>\r\n  );\r\n}\r\n","//localStorage\r\nconst TOKEN_NAME = \"connect.sid\";\r\n\r\nexport const setAuthTokenToLocalStorage = (token) => {\r\n  localStorage.setItem(TOKEN_NAME, JSON.stringify(token));\r\n};\r\n\r\nexport const getAuthTokenFromLocalStorage = () => {\r\n  return JSON.parse(localStorage.getItem(TOKEN_NAME));\r\n};\r\n\r\nexport const deleteAuthTokenFromLocalStorage = () => {\r\n  return localStorage.removeItem(TOKEN_NAME);\r\n};\r\n\r\n//sessionStorage\r\nexport const setAuthTokenFromSessionStorage = (key, value) => {\r\n  return sessionStorage.setItem(key, value);\r\n};\r\n\r\nexport const getAuthTokenFromSessionStorage = (key) => {\r\n  return sessionStorage.getItem(key);\r\n};\r\n\r\nexport const deleteAuthTokenFromSessionStorage = (key) => {\r\n  return sessionStorage.removeItem(key);\r\n};\r\n\r\nexport const FBstartApp = async () => {\r\n  console.log(\"getStatus\");\r\n  const loginStatus = await new Promise((resolve) => {\r\n    window.FB.getLoginStatus(function (response) {\r\n      resolve(response);\r\n    });\r\n  });\r\n\r\n  return statusChangeCallback(loginStatus);\r\n\r\n  async function statusChangeCallback(response) {\r\n    console.log(\"statusChangeCallback\");\r\n    // The response object is returned with a status field that lets the\r\n    // app know the current login status of the person.\r\n    // Full docs on the response object can be found in the documentation\r\n    // for FB.getLoginStatus().\r\n    if (response.status === \"connected\") {\r\n      // Logged into your app and Facebook.\r\n      // testAPI();\r\n      return await new Promise((resolve) => {\r\n        window.FB.api(\"/me\", { fields: \"id,name,email\" }, function (response) {\r\n          resolve({\r\n            ok: true,\r\n            FBUserData: response,\r\n          });\r\n        });\r\n      });\r\n    } else {\r\n      // The person is not logged into Facebook, so we're not sure if\r\n      // they are logged into this app or not.\r\n      console.log(\"please sign in FB!\");\r\n      return await new Promise((resolve) => {\r\n        window.FB.login(\r\n          function (response) {\r\n            if (response.authResponse) {\r\n              window.FB.api(\r\n                \"/me\",\r\n                { fields: \"id,name,email\" },\r\n                function (response) {\r\n                  resolve({\r\n                    ok: true,\r\n                    FBUserData: response,\r\n                  });\r\n                }\r\n              );\r\n            } else {\r\n              console.log(\"fblogin fail!\");\r\n              resolve({\r\n                ok: false,\r\n                message: \"fb login fail\",\r\n              });\r\n            }\r\n            //FB.login()預設只會回傳基本的授權資料\r\n            //如果想取得額外的授權資料需要另外設定在scope參數裡面\r\n            //可以設定的授權資料可以參考官方文件\r\n          },\r\n          { scope: \"public_profile,email\" }\r\n        );\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nexport function FBdeleteApp() {\r\n  window.FB.getLoginStatus(function (response) {\r\n    //取得目前user是否登入FB網站\r\n    //debug用\r\n    if (response.status === \"connected\") {\r\n      // Logged into Facebook.\r\n      //抓userID\r\n      window.FB.api(\"/me/permissions\", \"DELETE\", function (response) {\r\n        console.log(\"刪除結果\");\r\n        console.log(response); //gives true on app delete success\r\n      });\r\n    } else {\r\n      // FB取消授權\r\n      console.log(\"無法刪除FB App\");\r\n    }\r\n  });\r\n}\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport {\r\n  deleteScheculeAPI,\r\n  getAllUnfinishedschedulesAPI,\r\n  getAllFinishedschedulesAPI,\r\n  getUserDataAPI,\r\n  toggleScheduleIsfinishedAPI,\r\n  createScheduleAPI,\r\n  registerAPI,\r\n  FbRegisterAPI,\r\n  loginAPI,\r\n  FbLoginAPI,\r\n} from \"../../webAPI\";\r\nimport {\r\n  getAuthTokenFromLocalStorage,\r\n  setAuthTokenFromSessionStorage,\r\n  deleteAuthTokenFromSessionStorage,\r\n  setAuthTokenToLocalStorage,\r\n  FBstartApp,\r\n} from \"../../utils\";\r\n\r\nexport const usersReducer = createSlice({\r\n  name: \"users\",\r\n  initialState: {\r\n    isLoading: false,\r\n    authTokenResponse: null,\r\n    userData: null,\r\n    schedules: null,\r\n    scheduleData: null,\r\n    createErrorMessage: null,\r\n    registerErrorMessage: null,\r\n    loginErrorMessage: null,\r\n  },\r\n  reducers: {\r\n    setIsLoading: (state, action) => {\r\n      state.isLoading = action.payload;\r\n    },\r\n    setAuthTokenResponse: (state, action) => {\r\n      state.authTokenResponse = action.payload;\r\n    },\r\n    setUserData: (state, action) => {\r\n      state.userData = action.payload;\r\n    },\r\n    setSchedules: (state, action) => {\r\n      state.schedules = action.payload;\r\n    },\r\n    setScheduleData: (state, action) => {\r\n      state.scheduleData = action.payload;\r\n    },\r\n    setCreateErrorMessage: (state, action) => {\r\n      state.createErrorMessage = action.payload;\r\n    },\r\n    setRegisterErrorMessage: (state, action) => {\r\n      state.registerErrorMessage = action.payload;\r\n    },\r\n    setLoginErrorMessage: (state, action) => {\r\n      state.loginErrorMessage = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setIsLoading,\r\n  setAuthTokenResponse,\r\n  setUserData,\r\n  setSchedules,\r\n  setScheduleData,\r\n  setCreateErrorMessage,\r\n  setRegisterErrorMessage,\r\n  setLoginErrorMessage,\r\n} = usersReducer.actions;\r\n\r\nexport const registerUser = (username, password, nickname, email) => (\r\n  dispatch\r\n) => {\r\n  const json = JSON.stringify({ username, password, nickname, email });\r\n  return registerAPI(json)\r\n    .then((json) => {\r\n      if (!json.ok) {\r\n        dispatch(setRegisterErrorMessage(json.message));\r\n        return { ok: false };\r\n      } else {\r\n        setAuthTokenToLocalStorage(json.token);\r\n        dispatch(setUserData(json.userData));\r\n        return { ok: true };\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      dispatch(setRegisterErrorMessage(error.toString()));\r\n    });\r\n};\r\n\r\nexport const FbRegisterUser = () => async (dispatch) => {\r\n  const errorMessage = \"請確認並根據指示登入fb\";\r\n  const fbResponse = [];\r\n  await FBstartApp().then((res) => {\r\n    fbResponse.push(res);\r\n  });\r\n\r\n  if (!fbResponse[0].ok) {\r\n    return dispatch(setRegisterErrorMessage(errorMessage));\r\n  } else {\r\n    const { id, name, email } = fbResponse[0].FBUserData;\r\n    const json = JSON.stringify({\r\n      fbId: id,\r\n      fbName: name,\r\n      fbEmail: email,\r\n    });\r\n    return FbRegisterAPI(json)\r\n      .then((json) => {\r\n        if (!json.ok) {\r\n          dispatch(setRegisterErrorMessage(json.message));\r\n          return { ok: false };\r\n        } else {\r\n          setAuthTokenToLocalStorage(json.token);\r\n          dispatch(setUserData(json.userData));\r\n          return { ok: true };\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        dispatch(setRegisterErrorMessage(error.toString()));\r\n      });\r\n  }\r\n};\r\n\r\nexport const login = (username, password) => (dispatch) => {\r\n  const body = {\r\n    username,\r\n    password,\r\n  };\r\n  const json = JSON.stringify(body);\r\n  return loginAPI(json).then((json) => {\r\n    if (!json.ok) {\r\n      dispatch(setLoginErrorMessage(json.message));\r\n      return { ok: false };\r\n    } else {\r\n      setAuthTokenToLocalStorage(json.token);\r\n      dispatch(setUserData(json.userData));\r\n      return { ok: true };\r\n    }\r\n  });\r\n};\r\n\r\nexport const FbLogin = () => async (dispatch) => {\r\n  const fbResponse = [];\r\n  await FBstartApp().then((res) => {\r\n    fbResponse.push(res);\r\n  });\r\n  if (!fbResponse[0].ok) {\r\n    dispatch(setLoginErrorMessage(fbResponse[0].message));\r\n    return new Promise((resolve) => {\r\n      resolve({ ok: false });\r\n    });\r\n  }\r\n  const body = {\r\n    fbId: fbResponse[0].FBUserData.id,\r\n    fbName: fbResponse[0].FBUserData.name,\r\n    fbEmail: fbResponse[0].FBUserData.email,\r\n  };\r\n  const json = JSON.stringify(body);\r\n  return FbLoginAPI(json).then((json) => {\r\n    if (!json.ok) {\r\n      dispatch(setLoginErrorMessage(json.message));\r\n      return { ok: false };\r\n    } else {\r\n      setAuthTokenToLocalStorage(json.token);\r\n      dispatch(setUserData(json.userData));\r\n      return { ok: true };\r\n    }\r\n  });\r\n};\r\n\r\nexport const getUnfinishedSchedules = (id) => (dispatch) => {\r\n  dispatch(setIsLoading(true));\r\n  getAllUnfinishedschedulesAPI(id).then((json) => {\r\n    dispatch(setSchedules(json));\r\n  });\r\n  dispatch(setIsLoading(false));\r\n};\r\n\r\nexport const getFinishedSchedules = (id) => (dispatch) => {\r\n  dispatch(setIsLoading(true));\r\n  getAllFinishedschedulesAPI(id).then((json) => {\r\n    dispatch(setSchedules(json));\r\n  });\r\n  dispatch(setIsLoading(false));\r\n};\r\n\r\nexport const checkIsLogin = () => async (dispatch) => {\r\n  dispatch(setIsLoading(true));\r\n  const token = await getAuthTokenFromLocalStorage();\r\n  if (token) {\r\n    const json = JSON.stringify({ token });\r\n    await getUserDataAPI(json).then((json) => {\r\n      dispatch(setUserData(json.userData));\r\n    });\r\n  }\r\n  dispatch(setIsLoading(false));\r\n};\r\n\r\nexport const deleteSchedule = (id, UserId) => (dispatch) => {\r\n  const json = JSON.stringify({\r\n    UserId,\r\n  });\r\n  return deleteScheculeAPI(id, json);\r\n};\r\n\r\nexport const ToggleCheckBoxChanged = (\r\n  UserId,\r\n  scheduleId,\r\n  checkedStatus\r\n) => async (dispatch) => {\r\n  const body = {\r\n    UserId,\r\n  };\r\n  await toggleScheduleIsfinishedAPI(scheduleId, checkedStatus, body);\r\n};\r\n\r\nexport const createSchedule = (\r\n  startDate,\r\n  endDate,\r\n  scheduleName,\r\n  location,\r\n  UserId\r\n) => (dispatch) => {\r\n  function calcDates() {\r\n    const dates = {};\r\n    const range = (endDate - startDate) / 86400000;\r\n    for (let i = 0; i <= range; i++) {\r\n      const date = new Date(startDate)\r\n        .setDate(new Date(startDate).getDate() + i)\r\n        .toString();\r\n      dates[date] = [];\r\n    }\r\n    return dates;\r\n  }\r\n\r\n  const dates = calcDates();\r\n\r\n  const json = JSON.stringify({\r\n    scheduleName,\r\n    location,\r\n    dateRange: {\r\n      start: startDate,\r\n      end: endDate,\r\n    },\r\n    dailyRoutines: dates,\r\n    UserId,\r\n  });\r\n\r\n  return createScheduleAPI(json)\r\n    .then((json) => {\r\n      if (!json.ok) {\r\n        setCreateErrorMessage(json.message);\r\n      } else {\r\n        deleteAuthTokenFromSessionStorage(\"userId\");\r\n        deleteAuthTokenFromSessionStorage(\"scheduleId\");\r\n        setAuthTokenFromSessionStorage(\"userId\", UserId);\r\n        setAuthTokenFromSessionStorage(\"scheduleId\", json.scheduleData.id);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      setCreateErrorMessage(error.toString());\r\n    });\r\n};\r\n\r\nexport default usersReducer.reducer;\r\n","import styled from \"styled-components\";\r\nimport { MEDIA_QUERY_EXSM, MEDIA_QUERY_MD } from \"../../constants/break_point\";\r\n\r\nexport const FormContainer = styled.div`\r\n  position: relative;\r\n  width: 600px;\r\n  border: 2px solid ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  border-radius: 15px;\r\n  padding: 20px;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: ${(props) => props.theme.fontSizes.large};\r\n  background: white;\r\n\r\n  ${MEDIA_QUERY_MD} {\r\n    width: 480px;\r\n  }\r\n\r\n  ${MEDIA_QUERY_EXSM} {\r\n    width: 300px;\r\n  }\r\n`;\r\nexport const UserInput = styled.input`\r\n  width: 480px;\r\n  height: 50px;\r\n  margin-top: 30px;\r\n  padding-left: 25px;\r\n  border: 1px solid ${(props) => props.theme.secondaryColors.secondaryLight};\r\n  border-radius: 50px;\r\n  font-size: ${(props) => props.theme.fontSizes.medium};\r\n  color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n\r\n  &::-webkit-input-placeholder {\r\n    color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  }\r\n\r\n  ${MEDIA_QUERY_MD} {\r\n    width: 360px;\r\n  }\r\n\r\n  ${MEDIA_QUERY_EXSM} {\r\n    font-size: ${(props) => props.theme.fontSizes.small};\r\n    width: 225px;\r\n  }\r\n`;\r\n\r\nexport const UserButton = styled.button`\r\n  position: relative;\r\n  margin-top: 30px;\r\n  padding: 10px 15px;\r\n  font-size: ${(props) => props.theme.fontSizes.medium};\r\n  background: ${(props) => props.theme.primaryColors.primaryLighter};\r\n`;\r\n\r\nexport const Title = styled.div`\r\n  position: relative;\r\n  font-size: ${(props) => props.theme.titles.h3};\r\n  font-weight: bold;\r\n  display: flex;\r\n  align-items: center;\r\n  j ${MEDIA_QUERY_MD} {\r\n    font-size: ${(props) => props.theme.titles.h5};\r\n  }\r\n\r\n  ${MEDIA_QUERY_EXSM} {\r\n    font-size: ${(props) => props.theme.titles.h6};\r\n  }\r\n`;\r\n\r\nexport const UserInputContainer = styled.div`\r\n  height: 80px;\r\n`;\r\n\r\nexport const UserButtonContainer = styled.div`\r\n  height: 110px;\r\n  padding-top: 30px;\r\n`;\r\n\r\nexport const UserButtonBorder = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 480px;\r\n  height: 50px;\r\n  border: 2px solid ${(props) => props.theme.secondaryColors.secondaryLight};\r\n  border-radius: 50px;\r\n  padding-right: 476px;\r\n  z-index: 1;\r\n  transition: padding-right 0.2s;\r\n  background: white;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    padding-right: 0px;\r\n  }\r\n\r\n  &:hover > div {\r\n    color: white;\r\n  }\r\n\r\n  ${MEDIA_QUERY_MD} {\r\n    width: 360px;\r\n    padding-right: 356px;\r\n  }\r\n\r\n  ${MEDIA_QUERY_EXSM} {\r\n    width: 225px;\r\n    padding-right: 221px;\r\n  }\r\n`;\r\n\r\nexport const UserButtonBackground = styled.div`\r\n  width: 100%;\r\n  height: 47px;\r\n  margin-right: 0%;\r\n  border-radius: 25px;\r\n  z-index: 2;\r\n  background: ${(props) => props.theme.secondaryColors.secondaryLight};\r\n`;\r\n\r\nexport const UserButtonText = styled.div`\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translate(-50%, 0%);\r\n  z-index: 3;\r\n  color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  font-size: ${(props) => props.theme.fontSizes.medium};\r\n  transition: color 0.2s;\r\n\r\n  ${MEDIA_QUERY_EXSM} {\r\n    font-size: ${(props) => props.theme.fontSizes.small};\r\n  }\r\n`;\r\n\r\nexport const ErrorMessage = styled.div`\r\n  font-size: ${(props) => props.theme.fontSizes.small};\r\n  color: gray;\r\n\r\n  ${MEDIA_QUERY_EXSM} {\r\n    font-size: ${(props) => props.theme.fontSizes.extraSmall};\r\n  }\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  login,\r\n  FbLogin,\r\n  setLoginErrorMessage,\r\n} from \"../../redux/reducers/usersReducer\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, Link, useLocation } from \"react-router-dom\";\r\nimport {\r\n  FormContainer,\r\n  UserInput,\r\n  Title,\r\n  UserInputContainer,\r\n  UserButtonContainer,\r\n  UserButtonBorder,\r\n  UserButtonBackground,\r\n  UserButtonText,\r\n  ErrorMessage,\r\n} from \"../../components/UserForm\";\r\nimport { FormWrapper } from \"../../components/public\";\r\nimport { FacebookOutlined } from \"@ant-design/icons\";\r\nimport styled from \"styled-components\";\r\nimport { MEDIA_QUERY_MD, MEDIA_QUERY_EXSM } from \"../../constants/break_point\";\r\n\r\nconst ReminderContainer = styled.div`\r\n  width: 480px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 20px;\r\n\r\n  ${MEDIA_QUERY_MD} {\r\n    width: 360px;\r\n  }\r\n\r\n  ${MEDIA_QUERY_EXSM} {\r\n    width: 225px;\r\n  }\r\n`;\r\n\r\nconst RegisterReminder = styled.div`\r\n  display: flex;\r\n  border-bottom: 1px solid\r\n    ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  font-size: ${(props) => props.theme.fontSizes.small};\r\n  font-weight: 800;\r\n`;\r\n\r\nconst RegisterLink = styled.div`\r\n  color: ${(props) => props.theme.primaryColors.primary};\r\n  font-size: ${(props) => props.theme.fontSizes.small};\r\n  font-weight: 800;\r\n`;\r\n\r\nconst DemoAcountReminder = styled.div`\r\n  position: relative;\r\n  width: fit-content;\r\n  margin-top: 20px;\r\n  border: 1px solid ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  border-radius: 10px;\r\n  padding: 10px;\r\n  color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  font-size: ${(props) => props.theme.fontSizes.small};\r\n  font-weight: 800;\r\n`;\r\n\r\nconst FacebookOutlinedStyle = {\r\n  transform: \"scale(1.2)\",\r\n  cursor: \"pointer\",\r\n};\r\n\r\nexport default function LoginPage() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [usernameErrorMessage, setUsernameErrorMessage] = useState(\"\");\r\n  const [passwordErrorMessage, setPasswordErrorMessage] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const loginErrorMessage = useSelector(\r\n    (store) => store.users.loginErrorMessage\r\n  );\r\n  const userData = useSelector((store) => store.users.userData);\r\n  console.log(location);\r\n\r\n  useEffect(() => {\r\n    if (username) {\r\n      setUsernameErrorMessage(\"\");\r\n    }\r\n    if (password) {\r\n      setPasswordErrorMessage(\"\");\r\n    }\r\n\r\n    return () => {\r\n      dispatch(setLoginErrorMessage(null));\r\n    };\r\n  }, [\r\n    dispatch,\r\n    username,\r\n    password,\r\n    usernameErrorMessage,\r\n    passwordErrorMessage,\r\n  ]);\r\n  //login\r\n  const handleUserButtonBorderOnClick = () => {\r\n    const message = \"this field can not be empty.\";\r\n\r\n    if (!username) {\r\n      setUsernameErrorMessage(message);\r\n    }\r\n    if (!password) {\r\n      setPasswordErrorMessage(message);\r\n    }\r\n    if (!username || !password) {\r\n      return;\r\n    } else {\r\n      dispatch(login(username, password)).then((response) => {\r\n        if (response.ok) {\r\n          history.push(\"/\");\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleFacebookOutlinedOnClick = () => {\r\n    dispatch(FbLogin()).then((response) => {\r\n      if (response.ok) {\r\n        history.push(\"/\");\r\n      }\r\n    });\r\n  };\r\n\r\n  if (userData) {\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return (\r\n    <FormWrapper $solidPlate={true}>\r\n      <FormContainer>\r\n        <Title>please sign in</Title>\r\n        <UserInputContainer>\r\n          <UserInput\r\n            placeholder={\"USERNAME\"}\r\n            onChange={(event) => setUsername(event.target.value)}\r\n            value={username}\r\n          ></UserInput>\r\n          {usernameErrorMessage && (\r\n            <ErrorMessage>{usernameErrorMessage}</ErrorMessage>\r\n          )}\r\n        </UserInputContainer>\r\n        <UserInputContainer>\r\n          <UserInput\r\n            placeholder={\"PASSWORD\"}\r\n            onChange={(event) => setPassword(event.target.value)}\r\n            value={password}\r\n            type=\"password\"\r\n          ></UserInput>\r\n          {passwordErrorMessage && (\r\n            <ErrorMessage>{passwordErrorMessage}</ErrorMessage>\r\n          )}\r\n        </UserInputContainer>\r\n        <UserButtonContainer>\r\n          <UserButtonBorder onClick={handleUserButtonBorderOnClick}>\r\n            <UserButtonText>next</UserButtonText>\r\n            <UserButtonBackground />\r\n          </UserButtonBorder>\r\n          {loginErrorMessage && (\r\n            <ErrorMessage>{loginErrorMessage}</ErrorMessage>\r\n          )}\r\n        </UserButtonContainer>\r\n        <FacebookOutlined\r\n          onClick={handleFacebookOutlinedOnClick}\r\n          style={FacebookOutlinedStyle}\r\n        />\r\n        <ReminderContainer>\r\n          <RegisterReminder>\r\n            還沒有帳戶嗎?\r\n            <Link to=\"/register\">\r\n              <RegisterLink>註冊</RegisterLink>\r\n            </Link>\r\n          </RegisterReminder>\r\n          <DemoAcountReminder>\r\n            測試帳號\r\n            <br />\r\n            username: demo01\r\n            <br />\r\n            password: demo01\r\n            <br />\r\n          </DemoAcountReminder>\r\n        </ReminderContainer>\r\n      </FormContainer>\r\n    </FormWrapper>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  registerUser,\r\n  FbRegisterUser,\r\n  setRegisterErrorMessage,\r\n} from \"../../redux/reducers/usersReducer\";\r\nimport {\r\n  FormContainer,\r\n  UserInput,\r\n  Title,\r\n  UserInputContainer,\r\n  UserButtonContainer,\r\n  UserButtonBorder,\r\n  UserButtonBackground,\r\n  UserButtonText,\r\n  ErrorMessage,\r\n} from \"../../components/UserForm\";\r\nimport { FormWrapper } from \"../../components/public\";\r\nimport { FacebookOutlined } from \"@ant-design/icons\";\r\n\r\nconst FacebookOutlinedStyle = {\r\n  transform: \"scale(1.2)\",\r\n  cursor: \"pointer\",\r\n};\r\n\r\nexport default function RegisterPage() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [nickname, setNickname] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [usernameErrorMessage, setUsernameErrorMessage] = useState(\"\");\r\n  const [passwordErrorMessage, setPasswordErrorMessage] = useState(\"\");\r\n  const [nicknameErrorMessage, setNicknameErrorMessage] = useState(\"\");\r\n  const [emailErrorMessage, setEmailErrorMessage] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const registerErrorMessage = useSelector(\r\n    (store) => store.users.registerErrorMessage\r\n  );\r\n  const userData = useSelector((store) => store.users.userData);\r\n\r\n  function handleUserButtonOnClick() {\r\n    const errorMessage = \"this field can not be empty.\";\r\n    const emailFormErrorMessage = \"please input correct email form.\";\r\n    //驗證 email 格式\r\n\r\n    if (!username) {\r\n      setUsernameErrorMessage(errorMessage);\r\n    }\r\n    if (!password) {\r\n      setPasswordErrorMessage(errorMessage);\r\n    }\r\n    if (!nickname) {\r\n      setNicknameErrorMessage(errorMessage);\r\n    }\r\n    if (!email) {\r\n      setEmailErrorMessage(errorMessage);\r\n    }\r\n    if (!email.includes(\"@\")) {\r\n      return setEmailErrorMessage(emailFormErrorMessage);\r\n    }\r\n    if (!username || !password || !nickname || !email) {\r\n      return;\r\n    } else {\r\n      dispatch(registerUser(username, password, nickname, email)).then(\r\n        (response) => {\r\n          if (response.ok) {\r\n            history.push(\"/\");\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  function handleFacebookOutlinedOnClick() {\r\n    dispatch(FbRegisterUser()).then((response) => {\r\n      if (response.ok) {\r\n        history.push(\"/\");\r\n      }\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (username) {\r\n      setUsernameErrorMessage(\"\");\r\n    }\r\n    if (password) {\r\n      setPasswordErrorMessage(\"\");\r\n    }\r\n    if (nickname) {\r\n      setNicknameErrorMessage(\"\");\r\n    }\r\n    if (email) {\r\n      setEmailErrorMessage(\"\");\r\n    }\r\n    //刪除 registerErrorMessage\r\n    return () => {\r\n      dispatch(setRegisterErrorMessage(null));\r\n    };\r\n  }, [dispatch, username, password, nickname, email]);\r\n\r\n  if (userData) {\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return (\r\n    <FormWrapper $solidPlate={true}>\r\n      <FormContainer>\r\n        <Title>please sign up</Title>\r\n        <UserInputContainer>\r\n          <UserInput\r\n            placeholder={\"USERNAME\"}\r\n            onChange={(event) => setUsername(event.target.value)}\r\n            value={username}\r\n          ></UserInput>\r\n          {usernameErrorMessage && (\r\n            <ErrorMessage>{usernameErrorMessage}</ErrorMessage>\r\n          )}\r\n        </UserInputContainer>\r\n        <UserInputContainer>\r\n          <UserInput\r\n            placeholder={\"PASSWORD\"}\r\n            onChange={(event) => setPassword(event.target.value)}\r\n            value={password}\r\n            type=\"password\"\r\n          ></UserInput>\r\n          {passwordErrorMessage && (\r\n            <ErrorMessage>{passwordErrorMessage}</ErrorMessage>\r\n          )}\r\n        </UserInputContainer>\r\n        <UserInputContainer>\r\n          <UserInput\r\n            placeholder={\"NICKNAME\"}\r\n            onChange={(event) => setNickname(event.target.value)}\r\n            value={nickname}\r\n          ></UserInput>\r\n          {nicknameErrorMessage && (\r\n            <ErrorMessage>{nicknameErrorMessage}</ErrorMessage>\r\n          )}\r\n        </UserInputContainer>\r\n        <UserInputContainer>\r\n          <UserInput\r\n            placeholder={\"EMAIL\"}\r\n            onChange={(event) => setEmail(event.target.value)}\r\n            value={email}\r\n          ></UserInput>\r\n          {emailErrorMessage && (\r\n            <ErrorMessage>{emailErrorMessage}</ErrorMessage>\r\n          )}\r\n        </UserInputContainer>\r\n        <UserButtonContainer>\r\n          <UserButtonBorder onClick={() => handleUserButtonOnClick()}>\r\n            <UserButtonText>next</UserButtonText>\r\n            <UserButtonBackground />\r\n          </UserButtonBorder>\r\n          {registerErrorMessage && (\r\n            <ErrorMessage>{registerErrorMessage}</ErrorMessage>\r\n          )}\r\n        </UserButtonContainer>\r\n        <FacebookOutlined\r\n          onClick={handleFacebookOutlinedOnClick}\r\n          style={FacebookOutlinedStyle}\r\n        />\r\n      </FormContainer>\r\n    </FormWrapper>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst PaginatorContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  margin: 0px auto;\r\n  width: fit-content;\r\n  list-style-type: none;\r\n  padding: 0px;\r\n`;\r\n\r\nconst PagesContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  list-style-type: none;\r\n`;\r\n\r\nconst Page = styled.div`\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n  color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  box-sizing: border-box;\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 5px;\r\n  text-align: center;\r\n  line-height: 30px;\r\n\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n    background: ${props.theme.primaryColors.primaryLighter};\r\n  `}\r\n`;\r\n\r\nconst ControlerContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst Previous = styled.div`\r\n  display: inline-block;\r\n  font-size: 40px;\r\n  cursor: pointer;\r\n  line-height: 30px;\r\n  color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n\r\n  ${(props) =>\r\n    props.$inactive &&\r\n    `\r\n    color: ${props.theme.secondaryColors.secondary};\r\n  `}\r\n`;\r\n\r\nconst Next = styled.div`\r\n  display: inline-block;\r\n  font-size: 40px;\r\n  cursor: pointer;\r\n  line-height: 30px;\r\n  color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n\r\n  ${(props) =>\r\n    props.$inactive &&\r\n    `\r\n  color: ${props.theme.secondaryColors.secondary};\r\n`}\r\n`;\r\n\r\nexport default function Paginator({\r\n  posts,\r\n  setCurrentPage,\r\n  currentPage,\r\n  limit,\r\n}) {\r\n  const [paginateArray, setPaginateArray] = useState([]);\r\n  const [pages, setPages] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (posts) {\r\n      const length = posts.length;\r\n      const pagesNumber =\r\n        length % limit\r\n          ? parseInt(length / limit) + 1\r\n          : parseInt(length / limit);\r\n      setPages(pagesNumber);\r\n      const array = [];\r\n      for (let i = 1; i <= pagesNumber; i++) {\r\n        array.push(i);\r\n      }\r\n      setPaginateArray(array);\r\n    }\r\n  }, [posts, limit]);\r\n\r\n  function handleSwitchPage(page) {\r\n    setCurrentPage(page);\r\n  }\r\n\r\n  function handlePrevious() {\r\n    setCurrentPage(currentPage - 1);\r\n  }\r\n\r\n  function handleNext() {\r\n    setCurrentPage(currentPage + 1);\r\n  }\r\n\r\n  return (\r\n    <PaginatorContainer>\r\n      <PagesContainer>\r\n        {paginateArray.map((page, index) => (\r\n          <Page\r\n            onClick={() => handleSwitchPage(page)}\r\n            key={index}\r\n            $active={currentPage === index + 1}\r\n          >\r\n            {page}\r\n          </Page>\r\n        ))}\r\n      </PagesContainer>\r\n      <ControlerContainer>\r\n        {currentPage !== 1 && pages !== 0 ? (\r\n          <Previous onClick={handlePrevious}>&#x025C2;</Previous>\r\n        ) : (\r\n          <Previous $inactive={true}>&#x025C2;</Previous>\r\n        )}\r\n        {currentPage !== pages && pages !== 0 ? (\r\n          <Next onClick={handleNext}>&#x025B8;</Next>\r\n        ) : (\r\n          <Next $inactive={true}>&#x025B8;</Next>\r\n        )}\r\n      </ControlerContainer>\r\n    </PaginatorContainer>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { setPosts, getFilteredPosts } from \"../../redux/reducers/postsReducer\";\r\nimport { LoadingPage, Wrapper } from \"../../components/public\";\r\nimport Post from \"../../components/Post\";\r\nimport Paginator from \"../../components/Paginator\";\r\nimport { MEDIA_QUERY_MD } from \"../../constants/break_point\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nconst FilterContainer = styled.div`\r\n  margin-top: 30px;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst LocationFilter = styled.div`\r\n  display: inline-block;\r\n  margin-bottom: 10px;\r\n  margin-left: 20px;\r\n  border: solid 1px ${(props) => props.theme.primaryColors.primaryLight};\r\n  border-radius: 13px;\r\n  padding: 4px 8px;\r\n  color: ${(props) => props.theme.primaryColors.dark};\r\n  font-size: ${(props) => props.theme.fontSizes.medium};\r\n  transition: transform 0.1s ease-out;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    transform: scale(1.02);\r\n  }\r\n\r\n  &:visited {\r\n    background: black;\r\n  }\r\n\r\n  ${(props) =>\r\n    props.$active && `background: ${props.theme.primaryColors.primaryLighter};`}\r\n`;\r\n\r\nconst PostsContainer = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  min-height: 400px;\r\n\r\n  ${MEDIA_QUERY_MD} {\r\n    justify-content: center;\r\n  }\r\n`;\r\n\r\nexport default function ExplorePage() {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { slug } = useParams();\r\n  const [filter, setFilter] = useState(null);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const posts = useSelector((store) => store.posts.posts);\r\n  const locations = useSelector((store) => store.schedules.scheduleLocations);\r\n  const limit = 4;\r\n  console.log(slug);\r\n  useEffect(() => {\r\n    setFilter(slug);\r\n    dispatch(getFilteredPosts(slug));\r\n\r\n    return () => {\r\n      dispatch(setPosts(null));\r\n    };\r\n  }, [dispatch, limit, slug]);\r\n\r\n  function handleFilterOnClick(location) {\r\n    setFilter(location);\r\n    history.push(`/explore/location/${location}`);\r\n  }\r\n\r\n  if (!filter || !posts) {\r\n    return <LoadingPage />;\r\n  } else {\r\n    return (\r\n      <Wrapper>\r\n        <FilterContainer>\r\n          {locations.map((location, index) => (\r\n            <LocationFilter\r\n              $active={filter === location}\r\n              onClick={() => handleFilterOnClick(location)}\r\n              key={index}\r\n            >\r\n              {location}\r\n            </LocationFilter>\r\n          ))}\r\n        </FilterContainer>\r\n        <PostsContainer>\r\n          {posts &&\r\n            posts\r\n              .slice((currentPage - 1) * limit, currentPage * limit)\r\n              .map((post, index) => <Post postData={post} key={index}></Post>)}\r\n        </PostsContainer>\r\n        <Paginator\r\n          posts={posts}\r\n          setCurrentPage={setCurrentPage}\r\n          currentPage={currentPage}\r\n          limit={limit}\r\n        />\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport styled from \"styled-components\";\r\nimport \"./DatePicker.css\";\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst DatePickerContainer = styled.div`\r\n  width: 100%;\r\n\r\n  > div {\r\n    width: 100%;\r\n  }\r\n\r\n  > div > div > input {\r\n    width: 100%;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n\r\nexport default function Example({\r\n  startDate,\r\n  setStartDate,\r\n  endDate,\r\n  setEndDate,\r\n}) {\r\n  return (\r\n    <Container>\r\n      <DatePickerContainer className=\"DatePickerContainer\">\r\n        <DatePicker\r\n          className=\"DatePicker\"\r\n          dateFormat=\"yyyy/MM/dd\"\r\n          selected={new Date(startDate)}\r\n          onChange={(date) => setStartDate(date.getTime())}\r\n          minDate={new Date()}\r\n          selectsStart\r\n          startDate={new Date(startDate)}\r\n          endDate={new Date(endDate)}\r\n        />\r\n      </DatePickerContainer>\r\n      <DatePickerContainer className=\"DatePickerContainer\">\r\n        <DatePicker\r\n          className=\"DatePicker\"\r\n          dateFormat=\"yyyy/MM/dd\"\r\n          selected={new Date(endDate)}\r\n          onChange={(date) => setEndDate(date.getTime())}\r\n          selectsEnd\r\n          startDate={new Date(startDate)}\r\n          endDate={new Date(endDate)}\r\n          minDate={new Date(startDate)}\r\n        />\r\n      </DatePickerContainer>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { FormWrapper } from \"../../components/public\";\r\nimport {\r\n  FormContainer,\r\n  UserInput,\r\n  UserButtonBorder,\r\n  UserButtonBackground,\r\n  UserButtonText,\r\n  ErrorMessage,\r\n  UserButtonContainer,\r\n} from \"../../components/UserForm\";\r\n\r\nimport DatePicker from \"../../components/DatePicker\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { MEDIA_QUERY_EXSM, MEDIA_QUERY_MD } from \"../../constants/break_point\";\r\nimport { createSchedule } from \"../../redux/reducers/usersReducer\";\r\n\r\n//styled-component\r\nconst Title = styled.div`\r\n  width: 100%;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid\r\n    ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  font-size: ${(props) => props.theme.titles.h3};\r\n  font-weight: 800;\r\n  text-align: center;\r\n\r\n  ${MEDIA_QUERY_MD} {\r\n    font-size: ${(props) => props.theme.titles.h4};\r\n  }\r\n`;\r\n\r\nconst SubTitle = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  text-align: center;\r\n  font-size: ${(props) => props.theme.titles.h5};\r\n  font-weight: 800;\r\n`;\r\n\r\nconst Select = styled.select`\r\n  width: 100%;\r\n  height: 50px;\r\n  max-height: 100px;\r\n  border: 1px solid ${(props) => props.theme.secondaryColors.secondaryLight};\r\n  border-radius: 50px;\r\n  padding-left: 25px;\r\n  font-size: ${(props) => props.theme.fontSizes.medium};\r\n  overflow: scroll;\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst SubContainer = styled.div`\r\n  width: 480px;\r\n  ${MEDIA_QUERY_MD} {\r\n    width: 360px;\r\n  }\r\n\r\n  ${MEDIA_QUERY_EXSM} {\r\n    width: 225px;\r\n  }\r\n`;\r\n\r\n//style\r\nconst userInputStyle = {\r\n  marginTop: \"0px\",\r\n};\r\n\r\nconst FormContainerStyle = {\r\n  padding: \"10px 60px\",\r\n};\r\n\r\n//variables\r\nconst destinationSelects = [\r\n  \"台北\",\r\n  \"新北\",\r\n  \"桃園\",\r\n  \"新竹\",\r\n  \"苗栗\",\r\n  \"台中\",\r\n  \"彰化\",\r\n  \"雲林\",\r\n  \"嘉義\",\r\n  \"台南\",\r\n  \"高雄\",\r\n  \"屏東\",\r\n  \"台東\",\r\n  \"花蓮\",\r\n  \"宜蘭\",\r\n  \"南投\",\r\n];\r\n\r\nexport default function CreatePage() {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const currentDate = new Date().getDate();\r\n  const currentMonth = new Date().getMonth();\r\n  const currentYear = new Date().getFullYear();\r\n\r\n  const [scheduleName, setScheduleName] = useState(\"\");\r\n  const [location, setLocation] = useState(\"台北\");\r\n  const [startDate, setStartDate] = useState(\r\n    new Date(currentYear, currentMonth, currentDate).getTime()\r\n  );\r\n  const [endDate, setEndDate] = useState(\r\n    new Date(currentYear, currentMonth, currentDate).getTime()\r\n  );\r\n  const [scheduleNameErrorMessage, setScheduleNameErrorMessage] = useState(\"\");\r\n  const userData = useSelector((store) => store.users.userData);\r\n  const createErrorMessage = useSelector(\r\n    (store) => store.users.createErrorMessage\r\n  );\r\n\r\n  function handleSubmitSchedule() {\r\n    const message = \"this field can not be empty.\";\r\n    const UserId = userData.id;\r\n\r\n    if (!scheduleName) {\r\n      return setScheduleNameErrorMessage(message);\r\n    }\r\n\r\n    dispatch(\r\n      createSchedule(startDate, endDate, scheduleName, location, UserId)\r\n    ).then(() => history.push(\"/planning-page\"));\r\n  }\r\n\r\n  if (!userData) {\r\n    history.push(\"/\");\r\n    return <div></div>;\r\n  }\r\n\r\n  if (userData) {\r\n    return (\r\n      <FormWrapper $solidPlate={true}>\r\n        <FormContainer style={FormContainerStyle}>\r\n          <Title>來趟新的旅行吧!</Title>\r\n          <SubContainer>\r\n            <SubTitle>旅程名稱</SubTitle>\r\n            <UserInput\r\n              value={scheduleName}\r\n              onChange={(event) => setScheduleName(event.target.value)}\r\n              placeholder={\"請輸入旅程名稱\"}\r\n              style={userInputStyle}\r\n            ></UserInput>\r\n            {scheduleNameErrorMessage && (\r\n              <ErrorMessage>{scheduleNameErrorMessage}</ErrorMessage>\r\n            )}\r\n          </SubContainer>\r\n          <SubContainer>\r\n            <SubTitle>目的地</SubTitle>\r\n            <Select\r\n              value={location}\r\n              onChange={(event) => setLocation(event.target.value)}\r\n              name={\"location\"}\r\n            >\r\n              {destinationSelects.map((select) => (\r\n                <option value={select} key={select}>\r\n                  {select}\r\n                </option>\r\n              ))}\r\n            </Select>\r\n          </SubContainer>\r\n          <SubContainer>\r\n            <SubTitle>時間</SubTitle>\r\n            <DatePicker\r\n              style={{ zIndex: \"4\" }}\r\n              startDate={startDate}\r\n              setStartDate={setStartDate}\r\n              endDate={endDate}\r\n              setEndDate={setEndDate}\r\n            />\r\n          </SubContainer>\r\n          <UserButtonContainer onClick={handleSubmitSchedule}>\r\n            <UserButtonBorder style={{ zIndex: \"0\" }}>\r\n              <UserButtonText>next</UserButtonText>\r\n              <UserButtonBackground />\r\n            </UserButtonBorder>\r\n            {createErrorMessage && (\r\n              <ErrorMessage>{createErrorMessage}</ErrorMessage>\r\n            )}\r\n          </UserButtonContainer>\r\n        </FormContainer>\r\n      </FormWrapper>\r\n    );\r\n  }\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { Wrapper, LoadingPage } from \"../../components/public\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrashAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { MEDIA_QUERY_SM } from \"../../constants/break_point\";\r\nimport {\r\n  deleteSchedule,\r\n  ToggleCheckBoxChanged,\r\n} from \"../../redux/reducers/usersReducer\";\r\nimport {\r\n  getUnfinishedSchedules,\r\n  getFinishedSchedules,\r\n} from \"../../redux/reducers/usersReducer\";\r\nimport {\r\n  setAuthTokenFromSessionStorage,\r\n  deleteAuthTokenFromSessionStorage,\r\n} from \"../../utils\";\r\n\r\nconst ScheduleWrapper = styled(Wrapper)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst ScheduleContainer = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 20px;\r\n  margin-bottom: 20px;\r\n  padding: 20px;\r\n  width: 100%;\r\n  height: 96px;\r\n  background: ${(props) => props.theme.basicColors.white};\r\n  border-radius: 10px;\r\n  box-shadow: 0.5px 0.5px 3px -1px gray;\r\n  transition: all 0.5s ease;\r\n\r\n  &:hover {\r\n    box-shadow: 0px 2px 6px gray;\r\n  }\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    width: 90%;\r\n    padding: 10px 20px;\r\n  }\r\n`;\r\n\r\nconst Title = styled.div`\r\n  border-bottom: solid 2px\r\n    ${(props) => props.theme.primaryColors.primaryLighter};\r\n  font-size: ${(props) => props.theme.titles.h6};\r\n  font-weight: 900;\r\n  color: ${(props) => props.theme.primaryColors.primaryDark};\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    color: ${(props) => props.theme.primaryColors.primary};\r\n  }\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    font-size: ${(props) => props.theme.fontSizes.small};\r\n  }\r\n`;\r\n\r\nconst SubTitle = styled.div`\r\n  font-size: ${(props) => props.theme.fontSizes.small};\r\n  font-weight: 900;\r\n  color: ${(props) => props.theme.primaryColors.primaryDark};\r\n\r\n  &:nth-child(1) {\r\n    margin-right: 20px;\r\n  }\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    font-size: ${(props) => props.theme.fontSizes.extraSmall};\r\n  }\r\n`;\r\n\r\nconst LeftContainer = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-right: 10px;\r\n  height: 100%;\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    width: 120px;\r\n  }\r\n`;\r\n\r\nconst LeftDownContainer = styled.div`\r\n  display: flex;\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nconst RightContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-width: 60px;\r\n`;\r\n\r\nconst RightUpContainer = styled.div`\r\n  height: 50%;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  color: ${(props) => props.theme.primaryColors.primaryDarker};\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    font-size: ${(props) => props.theme.fontSizes.small};\r\n    line-height: ${(props) => props.theme.fontSizes.small};\r\n  }\r\n`;\r\n\r\nconst RightDownContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: space-between;\r\n\r\n  color: ${(props) => props.theme.primaryColors.primaryDarker};\r\n  font-size: ${(props) => props.theme.fontSizes.medium};\r\n  line-height: ${(props) => props.theme.fontSizes.medium};\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    font-size: ${(props) => props.theme.fontSizes.small};\r\n    line-height: ${(props) => props.theme.fontSizes.small};\r\n  }\r\n`;\r\n\r\nconst CheckBox = styled.input`\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 0;\r\n  margin-right: 5px;\r\n`;\r\n\r\nconst CheckBoxLabel = styled.label`\r\n  font-size: ${(props) => props.theme.fontSizes.small};\r\n  font-weight: 900;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  padding-top: ${(props) => props.theme.heights.header};\r\n  min-height: 100vh;\r\n\r\n  background: ${(props) => props.theme.primaryColors.primaryLighter};\r\n`;\r\n\r\nconst SideList = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: ${(props) => props.theme.basicColors.black};\r\n`;\r\n\r\nconst SideButton = styled.button`\r\n  margin-left: 5px;\r\n  background: ${(props) => props.theme.primaryColors.primaryLight};\r\n  border-top-left-radius: 5px;\r\n  border-bottom-left-radius: 5px;\r\n  border: none;\r\n  border-right: 0.5px solid black;\r\n  border-bottom: 1px solid black;\r\n  height: 36px;\r\n  min-width: 60px;\r\n  color: ${(props) => props.theme.primaryColors.primaryDarker};\r\n\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n    border-right: none;\r\n    background: ${props.theme.primaryColors.primaryLighter};\r\n  `}\r\n`;\r\n\r\nconst Reminder = styled.div`\r\n  position: absolute;\r\n  display: inline-block;\r\n  width: 200px;\r\n  height: 50px;\r\n  left: 50%;\r\n  top: 50%;\r\n  border-radius: 10px;\r\n  transform: translate(-50%, -50%);\r\n  background: ${(props) => props.theme.basicColors.white};\r\n  line-height: 50px;\r\n  text-align: center;\r\n  color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  font-weight: bold;\r\n`;\r\n\r\nfunction Schedule({\r\n  scheduleData,\r\n  handleDeleteOutlinedOnClick,\r\n  handleCheckboxOnChange,\r\n  handleScheduleTitleOnClick,\r\n}) {\r\n  const start = scheduleData.dateRange.start;\r\n  const end = scheduleData.dateRange.end;\r\n  const startData = `\r\n    ${new Date(start).getFullYear().toString()}, \r\n    ${(new Date(start).getMonth() + 1).toString()}, \r\n    ${new Date(start).getDate().toString()}\r\n  `;\r\n  const endData = `\r\n    ${new Date(end).getFullYear().toString()}, \r\n    ${(new Date(end).getMonth() + 1).toString()}, \r\n    ${new Date(end).getDate().toString()}\r\n  `;\r\n\r\n  return (\r\n    <ScheduleContainer>\r\n      <LeftContainer>\r\n        <Title onClick={() => handleScheduleTitleOnClick(scheduleData)}>\r\n          {scheduleData.scheduleName}\r\n        </Title>\r\n        <LeftDownContainer>\r\n          <SubTitle>{scheduleData.location}</SubTitle>\r\n          <SubTitle>\r\n            {startData}-{endData}\r\n          </SubTitle>\r\n        </LeftDownContainer>\r\n      </LeftContainer>\r\n      <RightContainer>\r\n        <RightUpContainer>\r\n          <CheckBox\r\n            id={scheduleData.id}\r\n            type=\"checkbox\"\r\n            value=\"完成\"\r\n            onChange={(event) => handleCheckboxOnChange(event)}\r\n            checked={scheduleData.isFinished}\r\n          ></CheckBox>\r\n          <CheckBoxLabel htmlfor={scheduleData.id}>完成</CheckBoxLabel>\r\n        </RightUpContainer>\r\n        <RightDownContainer>\r\n          <FontAwesomeIcon\r\n            onClick={() => handleDeleteOutlinedOnClick(scheduleData.id)}\r\n            icon={faTrashAlt}\r\n            style={{ cursor: \"pointer\" }}\r\n          />\r\n        </RightDownContainer>\r\n      </RightContainer>\r\n    </ScheduleContainer>\r\n  );\r\n}\r\n\r\nexport default function UserPage() {\r\n  const [isChangingIsFinished, setIsChangingIsFinished] = useState(false);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const isLoading = useSelector((store) => store.schedules.isLoading);\r\n  const userData = useSelector((store) => store.users.userData);\r\n  const schedules = useSelector((store) => store.users.schedules);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [buttonActive, setButtonActive] = useState(\"unfinish\");\r\n\r\n  //刪除 schedule\r\n  async function handleDeleteOutlinedOnClick(id) {\r\n    setIsDeleting(true);\r\n    const UserId = userData.id;\r\n    dispatch(deleteSchedule(id, UserId)).then(() => {\r\n      setIsDeleting(false);\r\n    });\r\n  }\r\n  //變更 schedule 完成狀態\r\n  async function handleCheckboxOnChange(event) {\r\n    setIsChangingIsFinished(true);\r\n    const UserId = userData.id;\r\n    const scheduleId = event.target.id;\r\n    const checkedStatus = event.target.checked ? 1 : 0;\r\n    await dispatch(ToggleCheckBoxChanged(UserId, scheduleId, checkedStatus));\r\n    setIsChangingIsFinished(false);\r\n  }\r\n  //進入編修或完成頁面\r\n  async function handleScheduleTitleOnClick(scheduleData) {\r\n    await deleteAuthTokenFromSessionStorage(\"userId\");\r\n    await deleteAuthTokenFromSessionStorage(\"scheduleId\");\r\n    await setAuthTokenFromSessionStorage(\"userId\", userData.id);\r\n    await setAuthTokenFromSessionStorage(\"scheduleId\", scheduleData.id);\r\n\r\n    if (scheduleData.isFinished) {\r\n      history.push(\"/finish-plan-page\");\r\n    } else {\r\n      history.push(\"/planning-page\");\r\n    }\r\n  }\r\n\r\n  //拿 schedules\r\n  useEffect(() => {\r\n    if (userData) {\r\n      dispatch(getUnfinishedSchedules(userData.id));\r\n      setButtonActive(\"unfinish\");\r\n    }\r\n  }, [dispatch, userData, isChangingIsFinished, isDeleting, isLoading]);\r\n\r\n  if (!userData) {\r\n    history.push(\"/\");\r\n  }\r\n\r\n  if (!schedules || isChangingIsFinished) {\r\n    return <LoadingPage />;\r\n  }\r\n\r\n  if (schedules) {\r\n    return (\r\n      <Container>\r\n        <SideList>\r\n          <SideButton\r\n            onClick={() => {\r\n              setButtonActive(\"unfinish\");\r\n              dispatch(getUnfinishedSchedules(userData.id));\r\n            }}\r\n            $active={buttonActive === \"unfinish\"}\r\n          >\r\n            未完成\r\n          </SideButton>\r\n          <SideButton\r\n            onClick={() => {\r\n              setButtonActive(\"finish\");\r\n              dispatch(getFinishedSchedules(userData.id));\r\n            }}\r\n            $active={buttonActive === \"finish\"}\r\n          >\r\n            已完成\r\n          </SideButton>\r\n          <SideButton\r\n            onClick={() => {\r\n              setButtonActive(\"add\");\r\n              history.push(\"/create\");\r\n            }}\r\n            $active={buttonActive === \"add\"}\r\n          >\r\n            新增\r\n          </SideButton>\r\n        </SideList>\r\n        <ScheduleWrapper>\r\n          {schedules.length ? (\r\n            schedules.map((scheduleData, index) => (\r\n              <Schedule\r\n                key={index}\r\n                scheduleData={scheduleData}\r\n                handleDeleteOutlinedOnClick={handleDeleteOutlinedOnClick}\r\n                handleCheckboxOnChange={handleCheckboxOnChange}\r\n                handleScheduleTitleOnClick={handleScheduleTitleOnClick}\r\n              />\r\n            ))\r\n          ) : (\r\n            <Reminder>目前沒有行程喔!</Reminder>\r\n          )}\r\n        </ScheduleWrapper>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Wrapper } from \"../../components/public\";\r\nimport {\r\n  FormContainer,\r\n  UserInput,\r\n  UserButtonBorder,\r\n  UserButtonBackground,\r\n  UserButtonText,\r\n  ErrorMessage,\r\n} from \"../../components/UserForm\";\r\n\r\nimport { SERVER_URL } from \"../../static/static\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n//styled-component\r\nconst Title = styled.div`\r\n  width: 100%;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid\r\n    ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  font-size: ${(props) => props.theme.titles.h3};\r\n  font-weight: 800;\r\n  text-align: center;\r\n`;\r\n\r\nconst SubTitle = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  text-align: center;\r\n  font-size: ${(props) => props.theme.titles.h5};\r\n  font-weight: 800;\r\n`;\r\n\r\nconst Select = styled.select`\r\n  width: 480px;\r\n  height: 50px;\r\n  border: 1px solid ${(props) => props.theme.secondaryColors.secondaryLight};\r\n  font-size: ${(props) => props.theme.fontSizes.medium};\r\n`;\r\n\r\nconst SubContainer = styled.div``;\r\n\r\n//style\r\nconst userInputStyle = {\r\n  marginTop: \"0px\",\r\n};\r\n\r\nconst FormContainerStyle = {\r\n  padding: \"10px 60px\",\r\n};\r\n\r\n//variables\r\nconst destinationSelects = [\r\n  \"台北\",\r\n  \"新北\",\r\n  \"桃園\",\r\n  \"新竹\",\r\n  \"苗栗\",\r\n  \"台中\",\r\n  \"彰化\",\r\n  \"雲林\",\r\n  \"嘉義\",\r\n  \"台南\",\r\n  \"高雄\",\r\n  \"屏東\",\r\n  \"台東\",\r\n  \"花蓮\",\r\n  \"宜蘭\",\r\n  \"南投\",\r\n];\r\n\r\nexport default function CreatePage() {\r\n  const history = useHistory();\r\n\r\n  const [scheduleName, setScheduleName] = useState(\"\");\r\n  const [destination, setDestination] = useState(\"台北\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [scheduleNameErrorMessage, setScheduleNameErrorMessage] = useState(\"\");\r\n\r\n  function handleSubmitSchedule() {\r\n    const message = \"this field can not be empty.\";\r\n\r\n    if (!scheduleName) {\r\n      return setScheduleNameErrorMessage(message);\r\n    }\r\n\r\n    const body = {\r\n      scheduleName,\r\n      destination,\r\n    };\r\n\r\n    const json = JSON.stringify(body);\r\n\r\n    fetch(`${SERVER_URL}/schedules`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n      body: json,\r\n    })\r\n      .then((result) => {\r\n        return result.json();\r\n      })\r\n      .then((json) => {\r\n        if (!json.ok) {\r\n          return setErrorMessage(json.message);\r\n        } else {\r\n          return history.push(\"/user\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        return setErrorMessage(error.toString());\r\n      });\r\n  }\r\n\r\n  return (\r\n    <Wrapper $solidPlate={true}>\r\n      <FormContainer style={FormContainerStyle}>\r\n        <Title>這次想怎麼改呢!</Title>\r\n        <SubContainer>\r\n          <SubTitle>旅程名稱</SubTitle>\r\n          <UserInput\r\n            value={scheduleName}\r\n            onChange={(event) => setScheduleName(event.target.value)}\r\n            placeholder={\"請輸入旅程名稱\"}\r\n            style={userInputStyle}\r\n          ></UserInput>\r\n          {scheduleNameErrorMessage && (\r\n            <ErrorMessage>{scheduleNameErrorMessage}</ErrorMessage>\r\n          )}\r\n        </SubContainer>\r\n        <SubContainer>\r\n          <SubTitle>目的地</SubTitle>\r\n          <Select\r\n            value={destination}\r\n            onChange={(event) => setDestination(event.target.value)}\r\n          >\r\n            {destinationSelects.map((select) => (\r\n              <option value={select} key={select}>\r\n                {select}\r\n              </option>\r\n            ))}\r\n          </Select>\r\n        </SubContainer>\r\n        <div onClick={handleSubmitSchedule}>\r\n          <UserButtonBorder style={{ zIndex: \"0\" }}>\r\n            <UserButtonText>next</UserButtonText>\r\n            <UserButtonBackground />\r\n          </UserButtonBorder>\r\n        </div>\r\n        {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n      </FormContainer>\r\n    </Wrapper>\r\n  );\r\n}\r\n","export const SERVER_URL = 'https://hit-the-road.mings.tw'\r\n","import styled from \"styled-components\";\r\n\r\nexport const ScheduleDetailForm = styled.form`\r\n  display: block;\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 20%;\r\n  transform: translateX(-50%);\r\n  padding: 20px;\r\n  z-index: 3;\r\n  background: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  box-shadow: 1px 3px 5px gray;\r\n  border-radius: 5px;\r\n  color: ${(props) => props.theme.basicColors.white};\r\n  font-size: ${(props) => props.theme.fontSizes.small};\r\n\r\n  & input {\r\n    margin-bottom: 5px;\r\n    padding: 2px;\r\n    outline: none;\r\n    border: none;\r\n    color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n\r\n    &:focus {\r\n      background: ${(props) => props.theme.primaryColors.primaryLighter};\r\n    }\r\n  }\r\n\r\n  & select {\r\n    width: 100%;\r\n    margin-bottom: 5px;\r\n    padding: 2px;\r\n    outline: none;\r\n    border: none;\r\n    color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  }\r\n\r\n  ${(props) =>\r\n    !props.$isEdit &&\r\n    `\r\n    display: none;\r\n  `}\r\n`;\r\n\r\nexport const CloseButton = styled.div`\r\n  position: absolute;\r\n  top: 5px;\r\n  right: 5px;\r\n  border: none;\r\n  color: ${(props) => props.theme.primaryColors.primaryLighter};\r\n  background: transparent;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  margin-top: 20px;\r\n  padding: 5px 0px;\r\n  width: 100%;\r\n  background: ${(props) => props.theme.primaryColors.primaryLighter};\r\n  color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n\r\n  border: none;\r\n  border-radius: 5px;\r\n\r\n  transition: all 1s ease;\r\n\r\n  &:disabled {\r\n    opacity: 0;\r\n    width: 50%;\r\n  }\r\n`;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nimport { getScheduleContent, savePostItsAPI } from \"../../webAPI\";\r\n\r\nexport const postItsReducer = createSlice({\r\n  name: \"postIt\",\r\n  initialState: {\r\n    isLoading: true,\r\n    postItId: null,\r\n    spots: {},\r\n    columns: {\r\n      postIt: {\r\n        id: \"postIt\",\r\n        spotsIds: [],\r\n      },\r\n      dailyRoutine: {\r\n        id: \"dailyRoutine\",\r\n        spotsIds: [],\r\n      },\r\n    },\r\n    columnsOrder: [\"postIt\", \"dailyRoutine\"],\r\n    isPostItsSaved: false,\r\n  },\r\n  reducers: {\r\n    setIsLoading: (state, action) => {\r\n      state.isLoading = action.payload;\r\n    },\r\n    setIsPostItsSaved: (state, action) => {\r\n      state.isPostItsSaved = action.payload;\r\n    },\r\n    setSpots: (state, action) => {\r\n      state.spots = action.payload;\r\n    },\r\n    setPostItId: (state, action) => {\r\n      state.postItId = action.payload;\r\n    },\r\n    setSpotsIds: (state, action) => {\r\n      state.columns.postIt.spotsIds = action.payload;\r\n    },\r\n    setStartColumns: (state, action) => {\r\n      state.columns[action.payload.sourceId].spotsIds =\r\n        action.payload.newStart.spotsIds;\r\n    },\r\n    setFinishColumns: (state, action) => {\r\n      state.columns[action.payload.destinationId].spotsIds =\r\n        action.payload.newFinish.spotsIds;\r\n    },\r\n    setIsScheduled: (state, action) => {\r\n      state.spots[action.payload].isScheduled = !state.spots[action.payload]\r\n        .isScheduled;\r\n    },\r\n    deletePostIt: (state, action) => {\r\n      state.columns.postIt.spotsIds.splice(action.payload.index, 1);\r\n      delete state.spots[action.payload.id];\r\n    },\r\n    deletePostItByPlaceId: (state, action) => {\r\n      const id = Object.keys(state.spots).find(\r\n        (key) => state.spots[key].placeId === action.payload\r\n      );\r\n      state.columns.postIt.spotsIds = state.columns.postIt.spotsIds.filter(\r\n        (spotId) => spotId !== id\r\n      );\r\n      delete state.spots[id];\r\n    },\r\n    addPostIt: (state, action) => {\r\n      const { location, category, memo } = action.payload;\r\n      state.postItId += 1;\r\n      state.spots = {\r\n        ...state.spots,\r\n        [`spot-${state.postItId}`]: {\r\n          id: `spot-${state.postItId}`,\r\n          location,\r\n          category,\r\n          memo,\r\n          isScheduled: false,\r\n        },\r\n      };\r\n      state.columns.postIt.spotsIds.push(`spot-${state.postItId}`);\r\n    },\r\n    addPostItFromMark: (state, action) => {\r\n      const { location, memo, placeId } = action.payload;\r\n      state.postItId += 1;\r\n      state.spots = {\r\n        ...state.spots,\r\n        [`spot-${state.postItId}`]: {\r\n          id: `spot-${state.postItId}`,\r\n          location,\r\n          memo,\r\n          placeId,\r\n          isScheduled: false,\r\n        },\r\n      };\r\n      state.columns.postIt.spotsIds.push(`spot-${state.postItId}`);\r\n    },\r\n    updatePostIt: (state, action) => {\r\n      const { updateId, location, category, memo } = action.payload;\r\n      state.spots[updateId] = {\r\n        ...state.spots[updateId],\r\n        location,\r\n        category,\r\n        memo,\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setStartColumns,\r\n  setFinishColumns,\r\n  setIsScheduled,\r\n  deletePostIt,\r\n  addPostIt,\r\n  addPostItFromMark,\r\n  updatePostIt,\r\n  deletePostItByPlaceId,\r\n  setSpots,\r\n  setSpotsIds,\r\n  setPostItId,\r\n  setIsPostItsSaved,\r\n  setIsLoading,\r\n} = postItsReducer.actions;\r\n\r\nexport const setOriginalColumns = (sourceId, newStart) => (dispatch) => {\r\n  dispatch(setStartColumns({ sourceId, newStart }));\r\n};\r\n\r\nexport const setChangedColumns = (\r\n  sourceId,\r\n  destinationId,\r\n  newStart,\r\n  newFinish\r\n) => (dispatch) => {\r\n  dispatch(setStartColumns({ sourceId, newStart }));\r\n  dispatch(setFinishColumns({ destinationId, newFinish }));\r\n};\r\n\r\nexport const setDestinationColumn = (\r\n  destinationId,\r\n  newFinish,\r\n  draggingSpot\r\n) => (dispatch) => {\r\n  dispatch(setFinishColumns({ destinationId, newFinish }));\r\n  dispatch(setIsScheduled(draggingSpot.id));\r\n};\r\n\r\nexport const initPostIts = (userId, scheduleId) => (dispatch) => {\r\n  dispatch(setIsLoading(true));\r\n  getScheduleContent(userId, scheduleId)\r\n    .then((res) => {\r\n      res.spots === null\r\n        ? dispatch(setSpots({}))\r\n        : dispatch(setSpots(res.spots));\r\n    })\r\n    .catch((error) => console.error(error));\r\n  getScheduleContent(userId, scheduleId)\r\n    .then((res) => {\r\n      res.spotsIds === null\r\n        ? dispatch(setSpotsIds([]))\r\n        : dispatch(setSpotsIds(res.spotsIds));\r\n    })\r\n    .catch((error) => console.error(error));\r\n  getScheduleContent(userId, scheduleId)\r\n    .then((res) => {\r\n      dispatch(setPostItId(res.postItId));\r\n    })\r\n    .catch((error) => console.error(error));\r\n  dispatch(setIsLoading(false));\r\n};\r\n\r\nexport const savePostIts = (spots, spotsIds, postItId, userId, scheduleId) => (\r\n  dispatch\r\n) => {\r\n  savePostItsAPI(spots, spotsIds, postItId, userId, scheduleId)\r\n    .then((res) => {\r\n      if (res.ok === true) {\r\n        dispatch(setIsPostItsSaved(true));\r\n      } else {\r\n        dispatch(setIsPostItsSaved(true));\r\n      }\r\n    })\r\n    .catch((error) => console.error(error));\r\n};\r\n\r\nexport default postItsReducer.reducer;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nimport { getScheduleContent, saveMarkersAPI } from \"../../webAPI\";\r\n\r\nexport const mapMarksReducer = createSlice({\r\n  name: \"mapMark\",\r\n  initialState: {\r\n    isLoading: true,\r\n    markLocations: [],\r\n    isMarkDeleted: false,\r\n    origin: \"\",\r\n    destination: \"\",\r\n    directionSteps: null,\r\n    originId: null,\r\n    isMarkerSaved: false,\r\n  },\r\n  reducers: {\r\n    setIsLoading: (state, action) => {\r\n      state.isLoading = action.payload;\r\n    },\r\n    setIsMarkerSaved: (state, action) => {\r\n      state.isMarkerSaved = action.payload;\r\n    },\r\n    setMarker: (state, action) => {\r\n      state.markLocations = action.payload;\r\n    },\r\n    setMarkLocations: (state, action) => {\r\n      const { name, formattedAddress, lat, lng, placeId } = action.payload;\r\n      state.markLocations.push({\r\n        name,\r\n        formattedAddress,\r\n        lat,\r\n        lng,\r\n        placeId,\r\n      });\r\n    },\r\n    deleteMarkLocation: (state, action) => {\r\n      state.markLocations = state.markLocations.filter(\r\n        (location) => location.placeId !== action.payload\r\n      );\r\n    },\r\n    deleteMapMarkByPlaceId: (state, action) => {\r\n      state.markLocations = state.markLocations.filter(\r\n        (location) => location.placeId !== action.payload\r\n      );\r\n    },\r\n    setIsMarkDeleted: (state, action) => {\r\n      state.isMarkDeleted = action.payload;\r\n    },\r\n    setOrigin: (state, action) => {\r\n      state.origin = action.payload;\r\n    },\r\n    setOriginId: (state, action) => {\r\n      state.originId = action.payload;\r\n    },\r\n    setDestination: (state, action) => {\r\n      state.destination = action.payload;\r\n    },\r\n    setDirectionSteps: (state, action) => {\r\n      state.directionSteps = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setMarker,\r\n  setMarkLocations,\r\n  deleteMapMarkByPlaceId,\r\n  setIsMarkDeleted,\r\n  setOrigin,\r\n  setOriginId,\r\n  setDestination,\r\n  setDirectionSteps,\r\n  deleteMarkLocation,\r\n  setIsMarkerSaved,\r\n  setIsLoading,\r\n} = mapMarksReducer.actions;\r\n\r\nexport const initMarkers = (userId, scheduleId) => (dispatch) => {\r\n  dispatch(setIsLoading(true));\r\n  getScheduleContent(userId, scheduleId)\r\n    .then((res) => {\r\n      res.markers === null\r\n        ? dispatch(setMarker([]))\r\n        : dispatch(setMarker(res.markers));\r\n    })\r\n    .catch((error) => console.error(error));\r\n  dispatch(setIsLoading(false));\r\n};\r\n\r\nexport const saveMarkers = (markers, userId, scheduleId) => (dispatch) => {\r\n  saveMarkersAPI(markers, userId, scheduleId)\r\n    .then((res) => {\r\n      if (res.ok === true) {\r\n        dispatch(setIsMarkerSaved(true));\r\n      } else {\r\n        dispatch(setIsMarkerSaved(false));\r\n      }\r\n    })\r\n    .catch((error) => console.error(error));\r\n};\r\n\r\nexport default mapMarksReducer.reducer;\r\n","import styled from \"styled-components\";\r\nimport { CloseButton, Button } from \"../ScheduleForm\";\r\nimport { Droppable, Draggable } from \"react-beautiful-dnd\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faUtensils,\r\n  faCampground,\r\n  faHotel,\r\n  faShoppingBag,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport {\r\n  deletePostIt,\r\n  addPostIt,\r\n  updatePostIt,\r\n} from \"../../redux/reducers/postItsReducer\";\r\n\r\nimport { deleteMapMarkByPlaceId } from \"../../redux/reducers/mapMarkReducer\";\r\nimport { MEDIA_QUERY_SM } from \"../../constants/break_point\";\r\n\r\nconst Wrapper = styled.div``;\r\n\r\n// droppable\r\nconst PostItWrapper = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: start;\r\n  box-shadow: -2px 0px 2px grey;\r\n  padding: 20px;\r\n  height: 100%;\r\n  background: ${(props) =>\r\n    props.isDraggingOver\r\n      ? props.theme.basicColors.white\r\n      : props.theme.primaryColors.primaryLighter};\r\n  overflow: auto;\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n  }\r\n`;\r\n\r\n// draggable\r\nconst PostIt = styled.div`\r\n  display: flex;\r\n  position: relative;\r\n  margin-bottom: 5px;\r\n  padding: 5px;\r\n  width: 90px;\r\n  min-height: 90px;\r\n  background: ${(props) =>\r\n    props.isDragging\r\n      ? props.theme.secondaryColors.secondaryLighter\r\n      : props.theme.basicColors.white};\r\n  opacity: ${(props) => (props.isScheduled ? \".3\" : \"1\")};\r\n  box-shadow: 0px 2px 2px grey;\r\n  overflow: hidden;\r\n  font-size: 12px;\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    margin-left: 5px;\r\n    margin-right: 5px;\r\n  }\r\n`;\r\n\r\nconst PostItInfo = styled.div`\r\n  flex: 1;\r\n  font-size: ${(props) => props.theme.fontSizes.extraSmall};\r\n\r\n  word-break: break-all;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nconst PostItButtons = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-left: 2px;\r\n`;\r\n\r\nconst DeleteButton = styled.button`\r\n  display: block;\r\n  padding: 0;\r\n  border: none;\r\n  background: transparent;\r\n\r\n  &:hover {\r\n    color: ${(props) => props.theme.primaryColors.primaryDark};\r\n  }\r\n`;\r\n\r\nconst UpdateButton = styled(DeleteButton)``;\r\n\r\nconst AddPostItWrapper = styled.button`\r\n  display: block;\r\n  padding: 5px;\r\n  width: 90px;\r\n  height: 90px;\r\n  border: dashed 1px ${(props) => props.theme.primaryColors.primary};\r\n  background: ${(props) => props.theme.primaryColors.primaryLight};\r\n  opacity: 0.5;\r\n  transition: all 0.5s ease;\r\n\r\n  &:hover {\r\n    border: dashed 1px ${(props) => props.theme.primaryColors.primaryDarker};\r\n  }\r\n`;\r\n\r\nconst AddPostIt = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  color: ${(props) => props.theme.primaryColors.primaryDark};\r\n  font-size: 36px;\r\n  text-align: center;\r\n  opacity: 0;\r\n  transition: all 0.5s ease;\r\n\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst PostItForm = styled.form`\r\n  display: block;\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 20%;\r\n  transform: translateX(-50%);\r\n  padding: 20px;\r\n  z-index: 2;\r\n  background: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  box-shadow: 1px 3px 5px gray;\r\n  border-radius: 5px;\r\n  color: ${(props) => props.theme.basicColors.white};\r\n  font-size: ${(props) => props.theme.fontSizes.small};\r\n\r\n  & input {\r\n    margin-bottom: 5px;\r\n    padding: 2px;\r\n    outline: none;\r\n    border: none;\r\n    color: ${(props) => props.theme.secondaryColors.secondaryDark};\r\n\r\n    &:focus {\r\n      background: ${(props) => props.theme.primaryColors.primaryLighter};\r\n    }\r\n  }\r\n\r\n  & select {\r\n    width: 100%;\r\n    outline: none;\r\n    color: ${(props) => props.theme.secondaryColors.secondaryDark};\r\n  }\r\n\r\n  & textarea {\r\n    color: ${(props) => props.theme.secondaryColors.secondaryDark};\r\n  }\r\n`;\r\n\r\nexport default function PostItItem() {\r\n  const dispatch = useDispatch();\r\n  const [isAddClick, setIsAddClick] = useState(false);\r\n  const [isUpdateClick, setIsUpdateClick] = useState(false);\r\n  const [location, setLocation] = useState(\"\");\r\n  const [category, setCategory] = useState(\"\");\r\n  const [memo, setMemo] = useState(\"\");\r\n  const [updateId, setUpdateId] = useState(null);\r\n  const spots = useSelector((store) => store.postIts.spots);\r\n  const columns = useSelector((store) => store.postIts.columns);\r\n  const column = columns[\"postIt\"];\r\n  const spotIds = column.spotsIds;\r\n\r\n  function handleDeletePostItClick(id, index) {\r\n    const placeId = spots[id].placeId;\r\n    dispatch(deletePostIt({ id, index }));\r\n    // 要刪掉相對應的 marker\r\n    dispatch(deleteMapMarkByPlaceId(placeId));\r\n    // dispatch(setIsMarkDeleted(placeId));\r\n  }\r\n\r\n  function handleAddPostItClick() {\r\n    setIsAddClick(!isAddClick);\r\n    setIsUpdateClick(false);\r\n    clearPostItState();\r\n  }\r\n\r\n  function clearPostItState() {\r\n    setLocation(\"\");\r\n    setMemo(\"\");\r\n    setCategory(\"\");\r\n  }\r\n\r\n  function handleUpdatePostItClick(id) {\r\n    setIsUpdateClick(!isUpdateClick);\r\n    setIsAddClick(false);\r\n    setLocation(spots[id].location);\r\n    setMemo(spots[id].memo);\r\n    setCategory(spots[id].category);\r\n    setUpdateId(id);\r\n  }\r\n\r\n  function handlePostItFormSubmit(e) {\r\n    e.preventDefault();\r\n    dispatch(addPostIt({ location, category, memo }));\r\n    setIsAddClick(false);\r\n  }\r\n\r\n  function handleUpdatePostItFormSubmit(e) {\r\n    e.preventDefault();\r\n    dispatch(updatePostIt({ updateId, location, category, memo }));\r\n    setIsUpdateClick(false);\r\n  }\r\n\r\n  const canSubmit = Boolean(location) && Boolean(category);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Droppable droppableId={\"postIt\"}>\r\n        {(provided, snapshot) => (\r\n          <PostItWrapper\r\n            ref={provided.innerRef}\r\n            {...provided.droppableProps}\r\n            isDraggingOver={snapshot.isDraggingOver}\r\n          >\r\n            {Object.keys(spots).length > 0 &&\r\n              spotIds &&\r\n              spotIds.map((id, index) => (\r\n                <Draggable\r\n                  draggableId={id}\r\n                  index={index}\r\n                  key={id}\r\n                  isDragDisabled={spots[id].isScheduled}\r\n                >\r\n                  {(provided, snapshot) => (\r\n                    <PostIt\r\n                      ref={provided.innerRef}\r\n                      {...provided.draggableProps}\r\n                      {...provided.dragHandleProps}\r\n                      isDragging={snapshot.isDragging}\r\n                      isScheduled={spots[id].isScheduled}\r\n                    >\r\n                      <PostItInfo>\r\n                        <div>\r\n                          {spots[id].category === \"hotel\" && (\r\n                            <FontAwesomeIcon icon={faHotel} />\r\n                          )}\r\n                          {spots[id].category === \"shopping\" && (\r\n                            <FontAwesomeIcon icon={faShoppingBag} />\r\n                          )}\r\n                          {spots[id].category === \"food\" && (\r\n                            <FontAwesomeIcon icon={faUtensils} />\r\n                          )}\r\n                          {spots[id].category === \"attraction\" && (\r\n                            <FontAwesomeIcon icon={faCampground} />\r\n                          )}\r\n                        </div>\r\n                        <div>{spots[id].location}</div>\r\n                        <div>{spots[id].memo}</div>\r\n                      </PostItInfo>\r\n                      <PostItButtons>\r\n                        <DeleteButton\r\n                          onClick={() => handleDeletePostItClick(id, index)}\r\n                        >\r\n                          ✖\r\n                        </DeleteButton>\r\n                        <UpdateButton\r\n                          onClick={() => handleUpdatePostItClick(id, index)}\r\n                        >\r\n                          &#9998;\r\n                        </UpdateButton>\r\n                      </PostItButtons>\r\n                    </PostIt>\r\n                  )}\r\n                </Draggable>\r\n              ))}\r\n            <AddPostItWrapper onClick={handleAddPostItClick}>\r\n              <AddPostIt>{isAddClick ? \"-\" : \"+\"}</AddPostIt>\r\n            </AddPostItWrapper>\r\n            {provided.placeholder}\r\n          </PostItWrapper>\r\n        )}\r\n      </Droppable>\r\n      {isUpdateClick && (\r\n        <PostItForm onSubmit={(e) => handleUpdatePostItFormSubmit(e)}>\r\n          <CloseButton onClick={() => setIsUpdateClick(false)}>✖</CloseButton>\r\n          <div>\r\n            地點\r\n            <br />\r\n            <input\r\n              value={location}\r\n              onChange={(e) => setLocation(e.target.value)}\r\n            />\r\n          </div>\r\n          <div>\r\n            分類\r\n            <br />\r\n            <select\r\n              value={category}\r\n              onChange={(e) => setCategory(e.target.value)}\r\n            >\r\n              <option value=\"\">--請選擇分類--</option>\r\n              <option value=\"food\">必吃</option>\r\n              <option value=\"attraction\">必去</option>\r\n              <option value=\"shopping\">必買</option>\r\n              <option value=\"hotel\">住宿</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            備註\r\n            <br />\r\n            <textarea value={memo} onChange={(e) => setMemo(e.target.value)} />\r\n          </div>\r\n          <Button disabled={!canSubmit}>送出</Button>\r\n        </PostItForm>\r\n      )}\r\n      {isAddClick && (\r\n        <PostItForm onSubmit={(e) => handlePostItFormSubmit(e)}>\r\n          <CloseButton onClick={() => setIsAddClick(false)}>✖</CloseButton>\r\n          <div>\r\n            地點\r\n            <br />\r\n            <input\r\n              value={location}\r\n              onChange={(e) => setLocation(e.target.value)}\r\n            />\r\n          </div>\r\n          <div>\r\n            分類\r\n            <br />\r\n            <select\r\n              value={category}\r\n              onChange={(e) => setCategory(e.target.value)}\r\n            >\r\n              <option value=\"\">--請選擇分類--</option>\r\n              <option value=\"food\">必吃</option>\r\n              <option value=\"attraction\">必去</option>\r\n              <option value=\"shopping\">必買</option>\r\n              <option value=\"hotel\">住宿</option>\r\n            </select>\r\n          </div>\r\n          <div>\r\n            備註\r\n            <br />\r\n            <textarea value={memo} onChange={(e) => setMemo(e.target.value)} />\r\n          </div>\r\n          <Button disabled={!canSubmit}>送出</Button>\r\n        </PostItForm>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n}\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport {\r\n  getScheduleContent,\r\n  saveRoutesAPI,\r\n  saveDailyRoutinesAPI,\r\n  saveDailyRoutinesKeyAPI,\r\n} from \"../../webAPI\";\r\n\r\n// orderByStartRoutines 有動的話就要存到 dailyRoutines\r\n\r\nexport const schedulesReducer = createSlice({\r\n  name: \"schedules\",\r\n  initialState: {\r\n    isLoading: false,\r\n    isRouteSaved: false,\r\n    isRoutineSaved: false,\r\n    spotId: null,\r\n    dateRange: {\r\n      // startDate: 1612195200000,\r\n      // endDate: 1612454400000,\r\n    },\r\n    currentDate: null,\r\n    // dailyRoutines 包含各個天數的行程\r\n    dailyRoutines: {},\r\n    // {\r\n    // \"0523\": [\r\n    //   {\r\n    //     id: (spotId += 1),\r\n    //     location: \"台北10111111111111111\",\r\n    //     start: \"0800\",\r\n    //     end: \"1000\",\r\n    //     category: \"food\",\r\n    //     memo: \"hohoho\",\r\n    //     budget: 100,\r\n    //   },\r\n    // ],\r\n    // \"0524\": [],\r\n    // },\r\n    editId: null,\r\n    // 只有一天的\r\n    orderByStartRoutines: [],\r\n    routes: [],\r\n    scheduleLocations: [\r\n      \"全部\",\r\n      \"台北\",\r\n      \"新北\",\r\n      \"桃園\",\r\n      \"新竹\",\r\n      \"苗栗\",\r\n      \"台中\",\r\n      \"彰化\",\r\n      \"雲林\",\r\n      \"嘉義\",\r\n      \"台南\",\r\n      \"高雄\",\r\n      \"屏東\",\r\n      \"台東\",\r\n      \"花蓮\",\r\n      \"宜蘭\",\r\n      \"南投\",\r\n      \"離島\",\r\n    ],\r\n  },\r\n  reducers: {\r\n    setIsLoading: (state, action) => {\r\n      state.isLoading = action.payload;\r\n    },\r\n    setIsRouteSaved: (state, action) => {\r\n      state.action = action.payload;\r\n    },\r\n    setIsRoutineSaved: (state, action) => {\r\n      state.action = action.payload;\r\n    },\r\n    setSpotId: (state, action) => {\r\n      state.spotId = action.payload;\r\n    },\r\n    setDailyRoutines: (state, action) => {\r\n      state.dailyRoutines = action.payload;\r\n    },\r\n    setDateRange: (state, action) => {\r\n      state.dateRange = action.payload;\r\n    },\r\n    deleteDailyRoutines: (state, action) => {\r\n      state.dailyRoutines[state.currentDate].splice(action.payload, 1);\r\n    },\r\n    updateDailyRoutines: (state, action) => {\r\n      const selectedId = state.orderByStartRoutines[state.editId].id;\r\n      state.dailyRoutines[state.currentDate].map((routine, index) =>\r\n        routine.id === selectedId\r\n          ? (state.dailyRoutines[state.currentDate][index] = {\r\n              ...action.payload,\r\n              postItId: state.dailyRoutines[state.currentDate][index].postItId,\r\n              id: selectedId,\r\n            })\r\n          : routine\r\n      );\r\n    },\r\n    addDailyRoutines: (state, action) => {\r\n      state.dailyRoutines[state.currentDate].push({\r\n        ...action.payload,\r\n        id: (state.spotId += 1),\r\n      });\r\n    },\r\n    addDailyRoutinesFromPostIt: (state, action) => {\r\n      state.dailyRoutines[state.currentDate].push({\r\n        ...action.payload,\r\n        id: (state.spotId += 1),\r\n      });\r\n    },\r\n    setEditId: (state, action) => {\r\n      state.editId = action.payload;\r\n    },\r\n    setCurrentDate: (state, action) => {\r\n      state.currentDate = action.payload;\r\n    },\r\n    setOrderByStartRoutines: (state, action) => {\r\n      state.orderByStartRoutines = action.payload;\r\n    },\r\n    saveAllDailyRoutines: (state, action) => {\r\n      state.dailyRoutines[action.payload.date] = action.payload.orderRoutines;\r\n    },\r\n    setRoutes: (state, action) => {\r\n      state.routes = action.payload;\r\n    },\r\n    setRoute: (state, action) => {\r\n      const { originId, directionSteps } = action.payload;\r\n      state.routes.push({ originId, directionSteps });\r\n    },\r\n    updateRoute: (state, action) => {\r\n      const { originId, directionSteps } = action.payload;\r\n      state.routes.map((route) => {\r\n        if (route.originId === originId) {\r\n          return (route.directionSteps = directionSteps);\r\n        } else {\r\n          return route.directionSteps;\r\n        }\r\n      });\r\n    },\r\n    deleteRouteByOriginId: (state, action) => {\r\n      state.routes = state.routes.filter(\r\n        (route) => route.originId !== action.payload\r\n      );\r\n    },\r\n    setScheduleLocations: (state, action) => {\r\n      state.scheduleLocations = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setDailyRoutinesKey,\r\n  updateDailyRoutines,\r\n  addDailyRoutines,\r\n  setEditId,\r\n  setCurrentDate,\r\n  setOrderByStartRoutines,\r\n  addDailyRoutinesFromPostIt,\r\n  deleteDailyRoutines,\r\n  saveAllDailyRoutines,\r\n  setRoute,\r\n  updateRoute,\r\n  deleteRouteByOriginId,\r\n  setDateRange,\r\n  setRoutes,\r\n  setDailyRoutines,\r\n  setSpotId,\r\n  setIsRouteSaved,\r\n  setIsRoutineSaved,\r\n  setIsLoading,\r\n  setScheduleLocations,\r\n} = schedulesReducer.actions;\r\n\r\nexport const update = ({ location, start, end, category, budget, memo }) => (\r\n  dispatch\r\n) => {\r\n  dispatch(\r\n    updateDailyRoutines({ location, start, end, category, budget, memo })\r\n  );\r\n};\r\n\r\nexport const add = ({ location, start, end, category, budget, memo }) => (\r\n  dispatch\r\n) => {\r\n  dispatch(addDailyRoutines({ location, start, end, category, budget, memo }));\r\n};\r\n\r\nexport const addFromPostIt = ({\r\n  location,\r\n  category,\r\n  start,\r\n  end,\r\n  budget,\r\n  memo,\r\n  id: postItId,\r\n}) => (dispatch) => {\r\n  dispatch(\r\n    addDailyRoutinesFromPostIt({\r\n      location,\r\n      start,\r\n      end,\r\n      category,\r\n      budget,\r\n      memo,\r\n      postItId,\r\n    })\r\n  );\r\n};\r\n\r\nexport const deleteSpot = (index) => (dispatch) => {\r\n  dispatch(deleteDailyRoutines(index));\r\n};\r\n\r\nexport const initSchedules = (userId, scheduleId) => (dispatch) => {\r\n  dispatch(setIsLoading(true));\r\n  getScheduleContent(userId, scheduleId)\r\n    .then((res) => {\r\n      dispatch(setDateRange(res.dateRange));\r\n      res.routes === null\r\n        ? dispatch(setRoutes([]))\r\n        : dispatch(setRoutes(res.routes));\r\n      dispatch(setSpotId(res.spotId));\r\n    })\r\n    .catch((error) => console.error(error));\r\n  dispatch(setIsLoading(false));\r\n};\r\n\r\n// 進到 planning-page 時 call API 拿資料\r\nexport const initDailyRoutines = (userId, scheduleId) => (dispatch) => {\r\n  dispatch(setIsLoading(true));\r\n  getScheduleContent(userId, scheduleId)\r\n    .then((res) => {\r\n      dispatch(setDailyRoutines(res.dailyRoutines));\r\n      dispatch(setCurrentDate(res.dateRange.start));\r\n    })\r\n    .catch((error) => console.error(error));\r\n  dispatch(setIsLoading(false));\r\n};\r\n\r\n// 新增行程時使用\r\nexport const initDailyRoutinesKey = (dates, userId, scheduleId) => (\r\n  dispatch\r\n) => {\r\n  const dailyRoutines = {};\r\n  dates.map((date) => (dailyRoutines[date] = []));\r\n  saveDailyRoutinesKeyAPI(dailyRoutines, userId, scheduleId)\r\n    .then((res) => {\r\n      if (res.ok === true) {\r\n        dispatch(setIsRoutineSaved(true));\r\n      } else {\r\n        dispatch(setIsRoutineSaved(false));\r\n      }\r\n    })\r\n    .catch((error) => console.error(error));\r\n};\r\n\r\nexport const saveRoutes = (routes, userId, scheduleId) => (dispatch) => {\r\n  saveRoutesAPI(routes, userId, scheduleId)\r\n    .then((res) => {\r\n      if (res.ok === true) {\r\n        dispatch(setIsRouteSaved(true));\r\n      } else {\r\n        dispatch(setIsRouteSaved(false));\r\n      }\r\n    })\r\n    .catch((error) => console.error(error));\r\n};\r\n\r\nexport const saveDailyRoutines = (\r\n  dates,\r\n  dailyRoutines,\r\n  spotId,\r\n  userId,\r\n  scheduleId\r\n) => (dispatch) => {\r\n  const saveRoutines = {};\r\n  for (let i = 0; i < dates.length; i++) {\r\n    const orderRoutines = dailyRoutines[dates[i]].slice();\r\n    orderRoutines.sort(function (a, b) {\r\n      return a.start - b.start;\r\n    });\r\n    const date = dates[i];\r\n    dispatch(saveAllDailyRoutines({ date, orderRoutines }));\r\n    saveRoutines[date] = orderRoutines;\r\n  }\r\n  saveDailyRoutinesAPI(saveRoutines, spotId, userId, scheduleId)\r\n    .then((res) => {\r\n      if (res.ok === true) {\r\n        dispatch(setIsRoutineSaved(true));\r\n      } else {\r\n        dispatch(setIsRoutineSaved(false));\r\n      }\r\n    })\r\n    .catch((error) => console.error(error));\r\n};\r\n\r\nexport default schedulesReducer.reducer;\r\n","import styled from \"styled-components\";\r\nimport { useCallback } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport {\r\n  setCurrentDate,\r\n  saveDailyRoutines,\r\n  saveRoutes,\r\n} from \"../../redux/reducers/schedulesReducer\";\r\n\r\nimport {\r\n  saveMarkers,\r\n  setIsMarkerSaved,\r\n} from \"../../redux/reducers/mapMarkReducer\";\r\n\r\nimport { savePostIts } from \"../../redux/reducers/postItsReducer\";\r\n\r\nimport { CloseButton } from \"../../components/ScheduleForm\";\r\n\r\nconst DayList = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: ${(props) => props.theme.basicColors.black};\r\n`;\r\n\r\nconst DayButton = styled.button`\r\n  margin-left: 5px;\r\n  background: ${(props) => props.theme.primaryColors.primaryLight};\r\n  border-top-left-radius: 5px;\r\n  border-bottom-left-radius: 5px;\r\n  border: none;\r\n  border-right: 0.5px solid black;\r\n  border-bottom: 1px solid black;\r\n  min-height: 36px;\r\n  color: ${(props) => props.theme.primaryColors.primaryDarker};\r\n\r\n  ${(props) =>\r\n    props.$active &&\r\n    `\r\n    border-right: none;\r\n    background: ${props.theme.primaryColors.primaryLighter};\r\n  `}\r\n`;\r\n\r\nconst SaveButton = styled(DayButton)`\r\n  background: ${(props) => props.theme.secondaryColors.secondaryLighter};\r\n  color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  font-weight: bold;\r\n`;\r\n\r\nconst SaveMessage = styled.div`\r\n  padding: 20px;\r\n  position: fixed;\r\n  top: calc(${(props) => props.theme.heights.header} + 50px);\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  z-index: 3;\r\n  width: 160px;\r\n  height: 72px;\r\n  border: 2px solid ${(props) => props.theme.primaryColors.primaryDark};\r\n  border-radius: 10px;\r\n  box-shadow: 1px 1px 5px gray;\r\n  background: ${(props) => props.theme.primaryColors.primaryDark};\r\n  text-align: center;\r\n  color: ${(props) => props.theme.basicColors.white};\r\n  font-size: ${(props) => props.theme.fontSizes.small};\r\n  font-weight: bold;\r\n`;\r\n\r\nexport default function DayLists() {\r\n  const dispatch = useDispatch();\r\n  const dailyRoutines = useSelector((store) => store.schedules.dailyRoutines);\r\n  const startDate = useSelector((store) => store.schedules.dateRange.start);\r\n  const endDate = useSelector((store) => store.schedules.dateRange.end);\r\n  const currentDate = useSelector((store) => store.schedules.currentDate);\r\n  // 為了要存\r\n  const routes = useSelector((store) => store.schedules.routes);\r\n  const spots = useSelector((store) => store.postIts.spots);\r\n  const spotsId = useSelector((store) => store.postIts.columns.postIt.spotsIds);\r\n  const markers = useSelector((store) => store.mapMarks.markLocations);\r\n  const spotId = useSelector((store) => store.schedules.spotId);\r\n  const postItId = useSelector((store) => store.postIts.postItId);\r\n\r\n  const isSaved = useSelector((store) => store.mapMarks.isMarkerSaved);\r\n\r\n  const calcDates = useCallback(() => {\r\n    const dates = [];\r\n    const range = (endDate - startDate) / 86400000;\r\n    for (let i = 0; i <= range; i++) {\r\n      dates.push(\r\n        new Date(startDate).setDate(new Date(startDate).getDate() + i)\r\n      );\r\n    }\r\n    return dates;\r\n  }, [endDate, startDate]);\r\n\r\n  function handleSaveClick() {\r\n    const dates = calcDates();\r\n    const userId = sessionStorage.getItem(\"userId\");\r\n    const scheduleId = sessionStorage.getItem(\"scheduleId\");\r\n    dispatch(\r\n      saveDailyRoutines(dates, dailyRoutines, spotId, userId, scheduleId)\r\n    );\r\n    dispatch(saveRoutes(routes, userId, scheduleId));\r\n    dispatch(saveMarkers(markers, userId, scheduleId));\r\n    dispatch(savePostIts(spots, spotsId, postItId, userId, scheduleId));\r\n  }\r\n\r\n  return (\r\n    <DayList>\r\n      {isSaved && (\r\n        <SaveMessage>\r\n          儲存成功！\r\n          <CloseButton onClick={() => dispatch(setIsMarkerSaved(false))}>\r\n            ✖\r\n          </CloseButton>\r\n        </SaveMessage>\r\n      )}\r\n      <SaveButton onClick={handleSaveClick}>SAVE</SaveButton>\r\n      {currentDate &&\r\n        Object.keys(dailyRoutines).map((date) => (\r\n          <DayButton\r\n            onClick={() => {\r\n              dispatch(setCurrentDate(Number(date)));\r\n            }}\r\n            $active={currentDate.toString() === date}\r\n            key={date}\r\n          >\r\n            {new Date(Number(date)).toLocaleString([], {\r\n              month: \"2-digit\",\r\n              day: \"2-digit\",\r\n            })}\r\n          </DayButton>\r\n        ))}\r\n    </DayList>\r\n  );\r\n}\r\n","import {\r\n  ScheduleDetailForm,\r\n  CloseButton,\r\n  Button,\r\n} from \"../../components/ScheduleForm\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nimport { add, setEditId } from \"../../redux/reducers/schedulesReducer\";\r\n\r\nexport default function ScheduleAddForm() {\r\n  const dispatch = useDispatch();\r\n  const editId = useSelector((store) => store.schedules.editId);\r\n  const currentDate = useSelector((store) => store.schedules.currentDate);\r\n\r\n  // 編輯 detail\r\n  const [location, setLocation] = useState(\"\");\r\n  const [start, setStart] = useState(\"\");\r\n  const [end, setEnd] = useState(\"\");\r\n  const [category, setCategory] = useState(\"\");\r\n  const [budget, setBudget] = useState(\"\");\r\n  const [memo, setMemo] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setStart(currentDate);\r\n  }, [currentDate]);\r\n\r\n  useEffect(() => {\r\n    setEnd(start);\r\n  }, [start]);\r\n\r\n  function handleAddScheduleSubmit(e) {\r\n    e.preventDefault();\r\n    dispatch(add({ location, start, end, category, budget, memo }));\r\n    dispatch(setEditId(null));\r\n    clearScheduleFormState();\r\n    setStart(currentDate);\r\n    setEnd(currentDate);\r\n  }\r\n\r\n  const canSubmit =\r\n    Boolean(location) && Boolean(start) && Number.isInteger(Number(budget));\r\n\r\n  function clearScheduleFormState() {\r\n    setLocation(\"\");\r\n    setStart(\"\");\r\n    setCategory(\"\");\r\n    setEnd(\"\");\r\n    setBudget(\"\");\r\n    setMemo(\"\");\r\n  }\r\n\r\n  return (\r\n    <ScheduleDetailForm\r\n      $isEdit={editId === \"add\"}\r\n      onSubmit={(e) => handleAddScheduleSubmit(e)}\r\n    >\r\n      <CloseButton\r\n        onClick={() => {\r\n          dispatch(setEditId(null));\r\n        }}\r\n      >\r\n        ✖\r\n      </CloseButton>\r\n      <div>\r\n        景點：\r\n        <br />\r\n        <input value={location} onChange={(e) => setLocation(e.target.value)} />\r\n      </div>\r\n      <div>\r\n        開始時間：\r\n        <br />\r\n        <DatePicker\r\n          selected={start}\r\n          onChange={(date) => setStart(date.getTime())}\r\n          showTimeSelect\r\n          showTimeSelectOnly\r\n          timeIntervals={30}\r\n          timeCaption=\"Time\"\r\n          dateFormat=\"h:mm aa\"\r\n          onChangeRaw={(e) => e.preventDefault()}\r\n        />\r\n      </div>\r\n      <div>\r\n        結束時間：\r\n        <br />\r\n        <DatePicker\r\n          selected={end}\r\n          onChange={(date) => setEnd(date.getTime())}\r\n          showTimeSelect\r\n          showTimeSelectOnly\r\n          timeIntervals={30}\r\n          timeCaption=\"Time\"\r\n          dateFormat=\"h:mm aa\"\r\n          onChangeRaw={(e) => e.preventDefault()}\r\n        />\r\n      </div>\r\n      <div>\r\n        類別：\r\n        <br />\r\n        <select value={category} onChange={(e) => setCategory(e.target.value)}>\r\n          <option value=\"\">--請選擇分類--</option>\r\n          <option value=\"food\">必吃</option>\r\n          <option value=\"attraction\">必去</option>\r\n          <option value=\"shopping\">必買</option>\r\n          <option value=\"hotel\">住宿</option>\r\n        </select>\r\n      </div>\r\n      <div>\r\n        預算：\r\n        <br />\r\n        <input value={budget} onChange={(e) => setBudget(e.target.value)} />\r\n      </div>\r\n      <div>\r\n        備註：\r\n        <br />\r\n        <input value={memo} onChange={(e) => setMemo(e.target.value)} />\r\n      </div>\r\n      <Button disabled={!canSubmit}>確認</Button>\r\n    </ScheduleDetailForm>\r\n  );\r\n}\r\n","import {\r\n  ScheduleDetailForm,\r\n  CloseButton,\r\n  Button,\r\n} from \"../../components/ScheduleForm\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nimport { setEditId, update } from \"../../redux/reducers/schedulesReducer\";\r\n\r\nexport default function ScheduleUpdateForm(props) {\r\n  const dispatch = useDispatch();\r\n  const editId = useSelector((store) => store.schedules.editId);\r\n  const { editRoutine, editIndex } = props;\r\n  const currentDate = useSelector((store) => store.schedules.currentDate);\r\n\r\n  // 編輯 detail\r\n  const [location, setLocation] = useState(\"\");\r\n  const [start, setStart] = useState(\"\");\r\n  const [end, setEnd] = useState(\"\");\r\n  const [category, setCategory] = useState(\"\");\r\n  const [budget, setBudget] = useState(\"\");\r\n  const [memo, setMemo] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setStart(currentDate);\r\n  }, [currentDate]);\r\n\r\n  useEffect(() => {\r\n    setEnd(start);\r\n  }, [start]);\r\n\r\n  useEffect(() => {\r\n    setLocation(editRoutine.location);\r\n    editRoutine.start === undefined\r\n      ? setStart(\"\")\r\n      : setStart(editRoutine.start);\r\n    editRoutine.end === undefined ? setEnd(\"\") : setEnd(editRoutine.end);\r\n    setCategory(editRoutine.category);\r\n    editRoutine.budget === undefined\r\n      ? setBudget(\"\")\r\n      : setBudget(editRoutine.budget);\r\n    setMemo(editRoutine.memo);\r\n  }, [editRoutine]);\r\n\r\n  function clearScheduleFormState() {\r\n    setLocation(\"\");\r\n    setStart(\"\");\r\n    setCategory(\"\");\r\n    setEnd(\"\");\r\n    setBudget(\"\");\r\n    setMemo(\"\");\r\n  }\r\n\r\n  // 編輯\r\n  function handleScheduleUpdateFormSubmit(e) {\r\n    e.preventDefault();\r\n    dispatch(update({ location, start, end, category, budget, memo }));\r\n    dispatch(setEditId(null));\r\n    clearScheduleFormState();\r\n    setStart(currentDate);\r\n    setEnd(currentDate);\r\n  }\r\n\r\n  const canSubmit =\r\n    Boolean(location) && Boolean(start) && Number.isInteger(Number(budget));\r\n\r\n  return (\r\n    <ScheduleDetailForm\r\n      $isEdit={editId === editIndex}\r\n      onSubmit={(e) => handleScheduleUpdateFormSubmit(e)}\r\n    >\r\n      <CloseButton\r\n        onClick={() => {\r\n          dispatch(setEditId(null));\r\n        }}\r\n      >\r\n        ✖\r\n      </CloseButton>\r\n      <div>\r\n        景點：\r\n        <br />\r\n        <input\r\n          placeholder={location}\r\n          value={location}\r\n          onChange={(e) => setLocation(e.target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        開始時間：\r\n        <br />\r\n        <DatePicker\r\n          selected={start}\r\n          onChange={(date) => setStart(date.getTime())}\r\n          showTimeSelect\r\n          showTimeSelectOnly\r\n          timeIntervals={30}\r\n          timeCaption=\"Time\"\r\n          dateFormat=\"h:mm aa\"\r\n          onChangeRaw={(e) => e.preventDefault()}\r\n        />\r\n      </div>\r\n      <div>\r\n        結束時間：\r\n        <br />\r\n        <DatePicker\r\n          selected={end}\r\n          onChange={(date) => setEnd(date.getTime())}\r\n          showTimeSelect\r\n          showTimeSelectOnly\r\n          timeIntervals={30}\r\n          timeCaption=\"Time\"\r\n          dateFormat=\"h:mm aa\"\r\n          onChangeRaw={(e) => e.preventDefault()}\r\n        />\r\n      </div>\r\n      <div>\r\n        類別：\r\n        <br />\r\n        <select value={category} onChange={(e) => setCategory(e.target.value)}>\r\n          <option value=\"\">--請選擇分類--</option>\r\n          <option value=\"food\">必吃</option>\r\n          <option value=\"attraction\">必去</option>\r\n          <option value=\"shopping\">必買</option>\r\n          <option value=\"hotel\">住宿</option>\r\n        </select>\r\n      </div>\r\n      <div>\r\n        預算：\r\n        <br />\r\n        <input\r\n          placeholder={budget}\r\n          value={budget}\r\n          onChange={(e) => setBudget(e.target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        備註：\r\n        <br />\r\n        <input\r\n          placeholder={memo}\r\n          value={memo}\r\n          onChange={(e) => setMemo(e.target.value)}\r\n        />\r\n      </div>\r\n      <Button disabled={!canSubmit}>確認</Button>\r\n    </ScheduleDetailForm>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport GoogleMapReact from \"google-map-react\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { API_KEY } from \"../../constants/key\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { MEDIA_QUERY_SM } from \"../../constants/break_point\";\r\n\r\nimport {\r\n  addPostItFromMark,\r\n  deletePostItByPlaceId,\r\n} from \"../../redux/reducers/postItsReducer\";\r\n\r\nimport { setRoute, updateRoute } from \"../../redux/reducers/schedulesReducer\";\r\n\r\nimport {\r\n  setOrigin,\r\n  setOriginId,\r\n  setDestination,\r\n  setDirectionSteps,\r\n  setMarkLocations,\r\n  deleteMarkLocation,\r\n} from \"../../redux/reducers/mapMarkReducer\";\r\n\r\nconst MapAreaWrapper = styled.div`\r\n  position: relative;\r\n  flex: 1;\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    height: 50vh;\r\n    border-bottom: 3px solid ${(props) => props.theme.basicColors.black};\r\n  }\r\n`;\r\n\r\nconst MapWrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: -1;\r\n`;\r\n\r\nconst SearchBoxWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: absolute;\r\n  top: 20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  z-index: 1;\r\n  min-width: 240px;\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  display: block;\r\n  box-sizing: border-box;\r\n  min-width: 240px;\r\n`;\r\n\r\nconst SearchAutocompleteWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 240px;\r\n`;\r\n\r\nconst SearchAutocomplete = styled.div`\r\n  box-sizing: border-box;\r\n  padding: 2px;\r\n  background: white;\r\n  border: 1px solid lightgray;\r\n  border-top: none;\r\n  font-size: 12px;\r\n  color: gray;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background: wheat;\r\n    color: black;\r\n  }\r\n`;\r\n\r\nconst DirectionsWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: absolute;\r\n  right: 0px;\r\n  z-index: 2;\r\n  padding: 20px;\r\n  max-width: 240px;\r\n  height: calc(\r\n    100vh - ${(props) => props.theme.heights.header} -\r\n      ${(props) => props.theme.heights.footer}\r\n  );\r\n  border-radius: 10px;\r\n  background: none;\r\n  font-size: 10px;\r\n\r\n  ${(props) =>\r\n    props.$isMapDragged &&\r\n    `\r\n    opacity: .1;\r\n  `}\r\n`;\r\n\r\nconst DirectionCloseButton = styled.div`\r\n  display: block;\r\n  position: absolute;\r\n  top: 5px;\r\n  right: 5px;\r\n  font-size: ${(props) => props.theme.fontSizes.small};\r\n  cursor: pointer;\r\n`;\r\n\r\nconst DirectionsForm = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  padding: 20px;\r\n  background: white;\r\n  border: 1px solid black;\r\n  border-radius: 5px;\r\n`;\r\n\r\nconst DirectionResult = styled.div`\r\n  margin-top: 10px;\r\n  padding: 20px;\r\n  border: 1px solid black;\r\n  overflow: auto;\r\n  border-radius: 5px;\r\n  background: white;\r\n`;\r\n\r\nconst DirectionsBox = styled.div`\r\n  font-size: 14px;\r\n\r\n  & input,\r\n  & select {\r\n    margin-bottom: 5px;\r\n    width: 100%;\r\n    height: 24px;\r\n    font-size: 14px;\r\n  }\r\n`;\r\n\r\nconst DirectionsButton = styled.button`\r\n  margin-top: 5px;\r\n  padding: 5px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  background: black;\r\n  color: white;\r\n  outline: none;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst DirectionResultButton = styled.button`\r\n  margin-top: 5px;\r\n  padding: 2px;\r\n  border: 1px solid black;\r\n  background: white;\r\n  outline: none;\r\n  cursor: pointer;\r\n\r\n  &:disabled {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst MarkAlert = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  padding: 20px;\r\n  z-index: 1;\r\n  border: 1px solid ${(props) => props.theme.primaryColors.primaryDark};\r\n  border-radius: 5px;\r\n  background: ${(props) => props.theme.basicColors.white};\r\n  box-shadow: 1px 1px 3px gray;\r\n  text-align: center;\r\n\r\n  & button {\r\n    margin-top: 5px;\r\n    padding: 5px;\r\n    width: 100%;\r\n    outline: none;\r\n    border: 1px solid ${(props) => props.theme.primaryColors.primaryDark};\r\n    border-radius: 5px;\r\n    background: ${(props) => props.theme.primaryColors.primaryLighter};\r\n  }\r\n`;\r\n\r\nconst LocationMark = styled.div`\r\n  transform: translate(-50%, -50%);\r\n  z-index: 2;\r\n  width: 30px;\r\n  height: 30px;\r\n  background: ${(props) => props.theme.primaryColors.primary};\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  opacity: 0.8;\r\n\r\n  &:hover {\r\n    background: ${(props) => props.theme.secondaryColors.secondary};\r\n\r\n    & div {\r\n      display: block;\r\n    }\r\n  }\r\n`;\r\n\r\nconst LocationMarkInfo = styled.div`\r\n  display: none;\r\n  position: relative;\r\n  left: 40px;\r\n  padding: 5px;\r\n  width: 60px;\r\n  border: 1px solid ${(props) => props.theme.primaryColors.primaryDark};\r\n  background: ${(props) => props.theme.basicColors.white};\r\n`;\r\n\r\nexport default function MapArea() {\r\n  const defaultProps = {\r\n    center: {\r\n      lat: 25.025763,\r\n      lng: 121.4824579,\r\n    },\r\n    zoom: 18,\r\n  };\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [isApiLoaded, setIsApiLoaded] = useState(false);\r\n  const [mapsApi, setMapsApi] = useState(null);\r\n  const [mapInstance, setMapInstance] = useState(null);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [autocompleteResults, setAutocompleteResults] = useState(null);\r\n  const [currentCenter, setCurrentCenter] = useState(null);\r\n  const [isMarked, setIsMarked] = useState(false);\r\n  const [isRouteAlertShow, setIsRouteAlertShow] = useState(false);\r\n\r\n  const [isMapDragged, setIsMapDragged] = useState(false);\r\n  const [currentDirectionsDisplay, setCurrentDirectionsDisplay] = useState();\r\n  const markLocations = useSelector((store) => store.mapMarks.markLocations);\r\n  const routes = useSelector((store) => store.schedules.routes);\r\n\r\n  if (mapsApi) {\r\n    mapsApi.event.addListener(mapInstance, \"dragstart\", function () {\r\n      setIsMapDragged(true);\r\n    });\r\n    mapsApi.event.addListener(mapInstance, \"dragend\", function () {\r\n      setIsMapDragged(false);\r\n    });\r\n  }\r\n\r\n  function handleApiLoaded(map, maps) {\r\n    // use map and maps objects\r\n    setMapInstance(map);\r\n    setMapsApi(maps);\r\n    setIsApiLoaded(true);\r\n  }\r\n\r\n  function handleSearchInputChange(e) {\r\n    setSearchText(e.target.value);\r\n  }\r\n\r\n  const handleAutocomplete = useCallback(() => {\r\n    if (isApiLoaded && searchText.length > 0) {\r\n      const autoCompleteService = new mapsApi.places.AutocompleteService();\r\n      autoCompleteService.getPlacePredictions(\r\n        { input: searchText },\r\n        (results, status) => {\r\n          if (status === mapsApi.places.PlacesServiceStatus.OK) {\r\n            setAutocompleteResults(results);\r\n          }\r\n        }\r\n      );\r\n    } else {\r\n      setAutocompleteResults(null);\r\n    }\r\n  }, [isApiLoaded, mapsApi, searchText]);\r\n\r\n  useEffect(() => {\r\n    handleAutocomplete();\r\n  }, [searchText, handleAutocomplete]);\r\n\r\n  let markers = [];\r\n  function handleAutocompleteClick(placeId) {\r\n    const service = new mapsApi.places.PlacesService(mapInstance);\r\n    const request = {\r\n      placeId,\r\n      fields: [\"geometry\", \"name\", \"formatted_address\"],\r\n    };\r\n\r\n    service.getDetails(request, (results, status) => {\r\n      if (status === mapsApi.places.PlacesServiceStatus.OK) {\r\n        setCurrentCenter({\r\n          lat: results.geometry.location.lat(),\r\n          lng: results.geometry.location.lng(),\r\n        });\r\n        setAutocompleteResults(null);\r\n        setSearchText(\"\");\r\n\r\n        const contentString = results.name;\r\n        const infowindow = new mapsApi.InfoWindow({\r\n          content: contentString,\r\n        });\r\n        const marker = new mapsApi.Marker({\r\n          position: {\r\n            lat: results.geometry.location.lat(),\r\n            lng: results.geometry.location.lng(),\r\n          },\r\n          map: mapInstance,\r\n        });\r\n        markers.push(marker);\r\n\r\n        marker.addListener(\"mouseover\", () => {\r\n          infowindow.open(mapInstance, marker);\r\n        });\r\n        marker.addListener(\"mouseout\", () => {\r\n          infowindow.close(mapInstance, marker);\r\n        });\r\n\r\n        marker.addListener(\"click\", () => {\r\n          for (let i = 0; i < markers.length; i++) {\r\n            markers[i].setMap(null);\r\n          }\r\n          markers = [];\r\n\r\n          // click 過要加到便利貼和換 pin\r\n          handleMarkSearchPlaceClick(results, placeId);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  // pin 地點並新增到 post-it\r\n  function handleMarkSearchPlaceClick(pinLocations, placeId) {\r\n    if (\r\n      markLocations.length > 0 &&\r\n      markLocations.find((place) => place.placeId === placeId)\r\n    ) {\r\n      return setIsMarked(true);\r\n    }\r\n\r\n    const lat = pinLocations.geometry.location.lat();\r\n    const lng = pinLocations.geometry.location.lng();\r\n    const { formatted_address: formattedAddress, name } = pinLocations;\r\n\r\n    const mapMarksInfo = { name, formattedAddress, lat, lng, placeId };\r\n    // 重設 markLocations\r\n    dispatch(setMarkLocations(mapMarksInfo));\r\n\r\n    const { name: location, formatted_address: memo } = pinLocations;\r\n    dispatch(addPostItFromMark({ location, memo, placeId }));\r\n    setCurrentCenter(null);\r\n  }\r\n\r\n  // 取消 pin 和相對應的便利貼\r\n  function handleMarkCancelClick(placeId) {\r\n    dispatch(deleteMarkLocation(placeId));\r\n    dispatch(deletePostItByPlaceId(placeId));\r\n    setCurrentCenter(null);\r\n    setIsMarked(false);\r\n  }\r\n\r\n  const origin = useSelector((store) => store.mapMarks.origin);\r\n  const originId = useSelector((store) => store.mapMarks.originId);\r\n  const destination = useSelector((store) => store.mapMarks.destination);\r\n  const [travelMode, setTravelMode] = useState(\"\");\r\n\r\n  const currentDate = useSelector((store) => store.schedules.currentDate);\r\n  const [start, setStart] = useState(\"\");\r\n  const directionSteps = useSelector((store) => store.mapMarks.directionSteps);\r\n  const [isRouteInfoShow, setIsRouteInfoShow] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setStart(currentDate);\r\n  }, [currentDate]);\r\n\r\n  function handleDirectionSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (currentDirectionsDisplay) {\r\n      currentDirectionsDisplay.setMap(null);\r\n    }\r\n    const directionsService = new mapsApi.DirectionsService();\r\n    const directionsDisplay = new mapsApi.DirectionsRenderer();\r\n    setCurrentDirectionsDisplay(directionsDisplay);\r\n\r\n    directionsDisplay.setMap(mapInstance);\r\n    // 讓重複按的時候不會重複一直貼\r\n    document.getElementById(\"directionsPanel\").innerText = \"\";\r\n    directionsDisplay.setPanel(document.getElementById(\"directionsPanel\"));\r\n\r\n    let request = {\r\n      origin,\r\n      destination,\r\n      travelMode: mapsApi.TravelMode[travelMode],\r\n      drivingOptions: {\r\n        departureTime: new Date(start),\r\n      },\r\n      transitOptions: {\r\n        departureTime: new Date(start),\r\n      },\r\n    };\r\n\r\n    directionsService.route(request, (result, status) => {\r\n      if (status === \"OK\") {\r\n        setIsRouteInfoShow(true);\r\n        directionsDisplay.setDirections(result);\r\n        const routeResult = result.routes[0].legs[0];\r\n        const duration = routeResult.duration.text;\r\n        let steps = [];\r\n        for (let i = 0; i < routeResult.steps.length; i++) {\r\n          if (routeResult.steps[i][\"travel_mode\"] === \"TRANSIT\") {\r\n            const transitInfo = {\r\n              transitDuration: routeResult.steps[i].duration.text,\r\n              instructions: routeResult.steps[i].instructions,\r\n              arrivalStop: routeResult.steps[i].transit[\"arrival_stop\"].name,\r\n              departureStop:\r\n                routeResult.steps[i].transit[\"departure_stop\"].name,\r\n              line: routeResult.steps[i].transit.line[\"short_name\"],\r\n            };\r\n            steps.push(transitInfo);\r\n          }\r\n        }\r\n        dispatch(setDirectionSteps({ duration, steps, travelMode }));\r\n      } else {\r\n        setIsRouteAlertShow(true);\r\n      }\r\n    });\r\n  }\r\n\r\n  // 如果有重複\r\n  function handleResultButtonClick() {\r\n    const route = routes.find((route) => route.originId === originId);\r\n    if (route) {\r\n      dispatch(updateRoute({ originId, directionSteps }));\r\n    } else {\r\n      dispatch(setRoute({ originId, directionSteps }));\r\n    }\r\n    dispatch(setOrigin(\"\"));\r\n    dispatch(setDestination(\"\"));\r\n    dispatch(setOriginId(null));\r\n    currentDirectionsDisplay.setMap(null);\r\n    setIsRouteInfoShow(false);\r\n  }\r\n\r\n  function handleCloseDirectionForm() {\r\n    setIsRouteInfoShow(false);\r\n    dispatch(setOrigin(\"\"));\r\n    dispatch(setDestination(\"\"));\r\n    dispatch(setOriginId(null));\r\n    if (currentDirectionsDisplay) {\r\n      currentDirectionsDisplay.setMap(null);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <MapAreaWrapper>\r\n      <SearchBoxWrapper>\r\n        <SearchInput\r\n          onChange={(e) => handleSearchInputChange(e)}\r\n          value={searchText}\r\n          placeholder=\"search...\"\r\n        />\r\n        <SearchAutocompleteWrapper>\r\n          {autocompleteResults &&\r\n            autocompleteResults.map((result) => (\r\n              <SearchAutocomplete\r\n                key={result[\"place_id\"]}\r\n                onClick={() => handleAutocompleteClick(result[\"place_id\"])}\r\n              >\r\n                {result.description}\r\n              </SearchAutocomplete>\r\n            ))}\r\n        </SearchAutocompleteWrapper>\r\n      </SearchBoxWrapper>\r\n\r\n      {(originId || destination) && (\r\n        <DirectionsWrapper $isMapDragged={isMapDragged}>\r\n          <DirectionsForm onSubmit={(e) => handleDirectionSubmit(e)}>\r\n            <DirectionCloseButton onClick={handleCloseDirectionForm}>\r\n              ✖\r\n            </DirectionCloseButton>\r\n            <DirectionsBox>\r\n              起始：\r\n              <input value={origin} placeholder=\"origin\" disabled />\r\n            </DirectionsBox>\r\n            <DirectionsBox>\r\n              結束：\r\n              <input value={destination} placeholder=\"destination\" disabled />\r\n            </DirectionsBox>\r\n            <DirectionsBox>\r\n              <select\r\n                value={travelMode}\r\n                onChange={(e) => setTravelMode(e.target.value)}\r\n              >\r\n                <option value=\"\" disabled>\r\n                  --請選擇交通方式--\r\n                </option>\r\n                <option value=\"DRIVING\">開車</option>\r\n                <option value=\"BICYCLING\">腳踏車</option>\r\n                <option value=\"TRANSIT\">大眾交通工具</option>\r\n                <option value=\"WALKING\">走路</option>\r\n              </select>\r\n            </DirectionsBox>\r\n            <DirectionsBox>\r\n              <DatePicker\r\n                selected={start}\r\n                onChange={(date) => {\r\n                  setStart(date.getTime());\r\n                }}\r\n                showTimeSelect\r\n                showTimeSelectOnly\r\n                timeIntervals={30}\r\n                timeCaption=\"Time\"\r\n                dateFormat=\"h:mm aa\"\r\n                onChangeRaw={(e) => e.preventDefault()}\r\n              />\r\n            </DirectionsBox>\r\n            <DirectionsButton\r\n              disabled={\r\n                !(\r\n                  Boolean(origin) &&\r\n                  Boolean(destination) &&\r\n                  Boolean(travelMode)\r\n                )\r\n              }\r\n            >\r\n              計算\r\n            </DirectionsButton>\r\n          </DirectionsForm>\r\n          <DirectionResult id=\"directionsPanel\" />\r\n          <DirectionResultButton\r\n            disabled={!isRouteInfoShow}\r\n            onClick={handleResultButtonClick}\r\n          >\r\n            確定\r\n          </DirectionResultButton>\r\n        </DirectionsWrapper>\r\n      )}\r\n\r\n      {isMarked && (\r\n        <MarkAlert>\r\n          <div>已經釘選過了！</div>\r\n          <button onClick={() => setIsMarked(false)}>確定</button>\r\n        </MarkAlert>\r\n      )}\r\n\r\n      {isRouteAlertShow && (\r\n        <MarkAlert>\r\n          <div>路線系統有些問題QQ</div>\r\n          <button onClick={() => setIsRouteAlertShow(false)}>確定</button>\r\n        </MarkAlert>\r\n      )}\r\n\r\n      <MapWrapper>\r\n        <GoogleMapReact\r\n          bootstrapURLKeys={{ key: API_KEY, libraries: [\"places\"] }}\r\n          center={currentCenter}\r\n          defaultCenter={defaultProps.center}\r\n          defaultZoom={defaultProps.zoom}\r\n          yesIWantToUseGoogleMapApiInternals\r\n          onGoogleApiLoaded={({ map, maps }) => handleApiLoaded(map, maps)}\r\n          style={{ zIndex: -1 }}\r\n        >\r\n          {markLocations &&\r\n            markLocations.map((place) => (\r\n              <LocationMark\r\n                key={place.placeId}\r\n                lat={place.lat}\r\n                lng={place.lng}\r\n                onClick={() => handleMarkCancelClick(place.placeId)}\r\n              >\r\n                <LocationMarkInfo>{place.name}</LocationMarkInfo>\r\n              </LocationMark>\r\n            ))}\r\n        </GoogleMapReact>\r\n      </MapWrapper>\r\n    </MapAreaWrapper>\r\n  );\r\n}\r\n","export const API_KEY = \"AIzaSyBGaE7NNzABY9v66yt_jN2OoDLKpeQuNlA\";\r\n","import styled from \"styled-components\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { DragDropContext, Droppable } from \"react-beautiful-dnd\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faUtensils,\r\n  faCampground,\r\n  faHotel,\r\n  faShoppingBag,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport { MEDIA_QUERY_SM } from \"../../constants/break_point\";\r\nimport PostItItem from \"../../components/PostItItem\";\r\nimport DayLists from \"./DayLists\";\r\nimport ScheduleAddForm from \"./ScheduleAddForm\";\r\nimport ScheduleUpdateForm from \"./ScheduleUpdateForm\";\r\nimport MapArea from \"./Map\";\r\nimport {\r\n  setEditId,\r\n  setOrderByStartRoutines,\r\n  addFromPostIt,\r\n  deleteSpot,\r\n  deleteRouteByOriginId,\r\n  initSchedules,\r\n  initDailyRoutines,\r\n} from \"../../redux/reducers/schedulesReducer\";\r\n\r\nimport {\r\n  setOriginalColumns,\r\n  setDestinationColumn,\r\n  setIsScheduled,\r\n  initPostIts,\r\n} from \"../../redux/reducers/postItsReducer\";\r\n\r\nimport {\r\n  setOrigin,\r\n  setOriginId,\r\n  setDestination,\r\n  setDirectionSteps,\r\n  initMarkers,\r\n} from \"../../redux/reducers/mapMarkReducer\";\r\n\r\nimport { getAuthTokenFromSessionStorage } from \"../../utils\";\r\n\r\nconst PlanWrapper = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  min-height: 100vh;\r\n  padding-top: ${(props) => props.theme.heights.header};\r\n  padding-bottom: ${(props) => props.theme.heights.footer};\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    flex-direction: column;\r\n    width: 100vw;\r\n  }\r\n`;\r\n\r\nconst ScheduleWrapper = styled.div`\r\n  display: flex;\r\n  z-index: 1;\r\n  min-height: 100%;\r\n`;\r\n\r\nconst Schedule = styled.div`\r\n  padding: 20px;\r\n  min-width: 260px;\r\n  background: ${(props) =>\r\n    props.isDraggingOver\r\n      ? props.theme.basicColors.white\r\n      : props.theme.primaryColors.primaryLighter};\r\n  box-shadow: 2px 0 2px gray;\r\n\r\n  overflow: auto;\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    width: 100%;\r\n    border-bottom: 3px solid black;\r\n  }\r\n`;\r\n\r\nconst ScheduleTitle = styled.div`\r\n  text-align: center;\r\n  font-size: ${(props) => props.theme.fontSizes.medium};\r\n  color: ${(props) => props.theme.basicColors.white};\r\n  text-shadow: 2px 1.2px ${(props) => props.theme.primaryColors.primary};\r\n  font-style: italic;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst ScheduleList = styled.ul``;\r\n\r\nconst ScheduleItemWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  position: relative;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst ScheduleCategory = styled.div`\r\n  width: 20px;\r\n  height: 36px;\r\n  line-height: 36px;\r\n  color: ${(props) => props.theme.primaryColors.primaryDarker};\r\n  background: transparent;\r\n`;\r\n\r\nconst ScheduleItem = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-left: 5px;\r\n`;\r\n\r\nconst ScheduleItemContent = styled.li`\r\n  padding: 0 10px;\r\n  width: 120px;\r\n  height: 36px;\r\n  border-top-left-radius: 5px;\r\n  background: ${(props) => props.theme.primaryColors.primaryDark};\r\n  text-align: center;\r\n  line-height: 36px;\r\n  font-size: ${(props) => props.theme.fontSizes.small};\r\n  color: white;\r\n  cursor: pointer;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n\r\n  transition: all 0.5s ease-out;\r\n\r\n  & + & {\r\n    margin-top: 10px;\r\n  }\r\n\r\n  &:hover {\r\n    background: ${(props) => props.theme.primaryColors.primaryDarker};\r\n  }\r\n`;\r\n\r\nconst ScheduleTimeWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 2px;\r\n  border: 1px solid ${(props) => props.theme.primaryColors.primaryDark};\r\n  border-left: none;\r\n  border-top-right-radius: 5px;\r\n  border-bottom-right-radius: 5px;\r\n  height: 36px;\r\n  color: ${(props) => props.theme.primaryColors.primaryDark};\r\n`;\r\n\r\nconst ScheduleTime = styled.div`\r\n  width: 32px;\r\n  text-align: center;\r\n  font-size: ${(props) => props.theme.fontSizes.extraSmall};\r\n  line-height: ${(props) => props.theme.fontSizes.small};\r\n`;\r\n\r\nconst DeleteButton = styled.button`\r\n  display: block;\r\n  border: none;\r\n  color: ${(props) => props.theme.primaryColors.primary};\r\n  background: transparent;\r\n`;\r\n\r\nconst SchedulePlus = styled.button`\r\n  display: block;\r\n  margin: auto;\r\n  width: 120px;\r\n  border: none;\r\n  background: none;\r\n  color: ${(props) => props.theme.primaryColors.primary};\r\n  font-size: ${(props) => props.theme.fontSizes.large};\r\n`;\r\n\r\nconst SettingButtonWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst SettingButton = styled.button`\r\n  display: block;\r\n  flex: 1;\r\n  border: none;\r\n  border-bottom-right-radius: 5px;\r\n  border-bottom-left-radius: 5px;\r\n  background: ${(props) => props.theme.primaryColors.primaryDarker};\r\n  color: white;\r\n  outline: none;\r\n  line-height: 10px;\r\n  height: 16px;\r\n  font-size: 10px;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background: ${(props) => props.theme.primaryColors.primaryDark};\r\n  }\r\n`;\r\n\r\nconst TrafficInfoWrapper = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 10px auto;\r\n  width: 160px;\r\n  font-size: ${(props) => props.theme.fontSizes.extraSmall};\r\n`;\r\n\r\nconst TrafficInfoDeleteButton = styled.button`\r\n  margin-top: 5px;\r\n  padding: 0;\r\n  background: none;\r\n  border: none;\r\n  border-radius: 2px;\r\n  background: ${(props) => props.theme.primaryColors.primaryDarker};\r\n  color: ${(props) => props.theme.primaryColors.primaryLighter};\r\n`;\r\n\r\nconst TrafficDuration = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding-left: 5px;\r\n  border-left: 1px dashed ${(props) => props.theme.primaryColors.primaryDarker};\r\n  writing-mode: vertical-rl;\r\n  text-orientation: upright;\r\n  color: ${(props) => props.theme.primaryColors.primaryDarker};\r\n`;\r\n\r\nconst TransitLines = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst TransitLineWrapper = styled.div`\r\n  max-width: 120px;\r\n`;\r\n\r\nconst TransitLine = styled.div`\r\n  padding: 2px;\r\n  border: 1px solid ${(props) => props.theme.primaryColors.primaryDarker};\r\n  border-radius: 5px;\r\n  color: ${(props) => props.theme.primaryColors.primaryDarker};\r\n  text-align: center;\r\n`;\r\n\r\nconst TransitInfo = styled.div`\r\n  color: ${(props) => props.theme.primaryColors.primary};\r\n`;\r\n\r\nconst TransitStop = styled.div`\r\n  color: ${(props) => props.theme.primaryColors.primaryDarker};\r\n`;\r\n\r\nconst LoadingDiv = styled.div`\r\n  width: 100%;\r\n  height: 100vh;\r\n  background: ${(props) => props.theme.primaryColors.primaryLighter};\r\n  font-size: ${(props) => props.theme.titles.h1};\r\n  text-align: center;\r\n  line-height: 100vh;\r\n  color: ${(props) => props.theme.primaryColors.primaryDarker};\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    font-size: ${(props) => props.theme.titles.h3};\r\n  }\r\n`;\r\n\r\nexport default function PlanningPage() {\r\n  const history = useHistory();\r\n  const isPostItsLoading = useSelector((store) => store.postIts.isLoading);\r\n  const isMarkerssLoading = useSelector((store) => store.mapMarks.isLoading);\r\n  const isSchedulesLoading = useSelector((store) => store.schedules.isLoading);\r\n\r\n  const dispatch = useDispatch();\r\n  const [editRoutine, setEditRoutine] = useState(null);\r\n  const [editIndex, setEditIndex] = useState(null);\r\n\r\n  const dailyRoutines = useSelector((store) => store.schedules.dailyRoutines);\r\n  const orderByStartRoutines = useSelector(\r\n    (store) => store.schedules.orderByStartRoutines\r\n  );\r\n  const currentDate = useSelector((store) => store.schedules.currentDate);\r\n  const editId = useSelector((store) => store.schedules.editId);\r\n\r\n  const columns = useSelector((store) => store.postIts.columns);\r\n  const spots = useSelector((store) => store.postIts.spots);\r\n\r\n  // 用來判斷存取的路線要顯示在誰後面（暫定都存在 origin 後面）\r\n  const originId = useSelector((store) => store.mapMarks.originId);\r\n  let directionSteps = useSelector((store) => store.mapMarks.directionSteps);\r\n  const routes = useSelector((store) => store.schedules.routes);\r\n\r\n  useEffect(() => {\r\n    if (getAuthTokenFromSessionStorage(\"userId\") === null) {\r\n      return history.push(\"/\");\r\n    }\r\n  }, [history]);\r\n\r\n  useEffect(() => {\r\n    dispatch(setEditId(null));\r\n  }, [currentDate, dispatch]);\r\n\r\n  // 進入此頁第一件要做的事\r\n  // 利用 userId 和 scheduleId 拿資料\r\n  useEffect(() => {\r\n    const userId = getAuthTokenFromSessionStorage(\"userId\");\r\n    const scheduleId = getAuthTokenFromSessionStorage(\"scheduleId\");\r\n    // dailyRoutines、currentDate\r\n    dispatch(initDailyRoutines(userId, scheduleId));\r\n    // routes、dateRange、spotId\r\n    dispatch(initSchedules(userId, scheduleId));\r\n    dispatch(initMarkers(userId, scheduleId));\r\n    dispatch(initPostIts(userId, scheduleId));\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(dailyRoutines).length > 0 && currentDate) {\r\n      const isCurrentDateExist = Object.keys(dailyRoutines).find(\r\n        (key) => Number(key) === currentDate\r\n      );\r\n      if (isCurrentDateExist) {\r\n        const orderRoutines = dailyRoutines[currentDate].slice();\r\n        orderRoutines.sort(function (a, b) {\r\n          return a.start - b.start;\r\n        });\r\n        dispatch(setOrderByStartRoutines(orderRoutines));\r\n      }\r\n    }\r\n  }, [dispatch, dailyRoutines, currentDate]);\r\n\r\n  function handleScheduleItemClick(index, routine) {\r\n    setEditRoutine(routine);\r\n    setEditIndex(index);\r\n    editId === index ? dispatch(setEditId(null)) : dispatch(setEditId(index));\r\n  }\r\n\r\n  function handleSchedulePlusClick() {\r\n    // 要跳新增框（ScheduleAddForm）\r\n    editId === \"add\" ? dispatch(setEditId(null)) : dispatch(setEditId(\"add\"));\r\n  }\r\n\r\n  // 刪除\r\n  function handleDeleteClick(id) {\r\n    const index = dailyRoutines[currentDate].findIndex(\r\n      (routine) => routine.id === id\r\n    );\r\n    dispatch(deleteSpot(index));\r\n\r\n    if (dailyRoutines[currentDate][index].postItId) {\r\n      const postItId = dailyRoutines[currentDate][index].postItId;\r\n      if (Object.keys(spots).find((key) => key === postItId) !== undefined) {\r\n        dispatch(setIsScheduled(postItId));\r\n      }\r\n    }\r\n  }\r\n\r\n  function onDragEnd(result) {\r\n    const { destination, source, draggableId } = result;\r\n\r\n    if (!destination) {\r\n      return;\r\n    }\r\n\r\n    if (\r\n      destination.droppableId === source.droppableId &&\r\n      destination.index === source.index\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    // 有不同的 column\r\n    const startColumn = columns[source.droppableId];\r\n    const finishColumn = columns[destination.droppableId];\r\n\r\n    if (startColumn === finishColumn) {\r\n      // 在原 column 裡移動\r\n      const newSpotsIds = Array.from(startColumn.spotsIds); // 避免改變原 array\r\n      newSpotsIds.splice(source.index, 1);\r\n      newSpotsIds.splice(destination.index, 0, draggableId);\r\n\r\n      const newColumn = {\r\n        ...startColumn,\r\n        spotsIds: newSpotsIds,\r\n      };\r\n\r\n      return dispatch(setOriginalColumns(source.droppableId, newColumn));\r\n    }\r\n\r\n    const finishSpotsIds = Array.from(finishColumn.spotsIds);\r\n    finishSpotsIds.splice(destination.index, 0, draggableId);\r\n    const newFinish = {\r\n      ...finishColumn,\r\n      spotsIds: finishSpotsIds,\r\n    };\r\n\r\n    const spotId = startColumn.spotsIds[source.index]; // 拖曳的 spot id\r\n    const draggingSpot = spots[spotId];\r\n    const start = currentDate;\r\n    const end = currentDate;\r\n    const { location, category, memo, id } = draggingSpot;\r\n    dispatch(\r\n      addFromPostIt({\r\n        location,\r\n        category,\r\n        start,\r\n        end,\r\n        memo,\r\n        id,\r\n      })\r\n    );\r\n\r\n    dispatch(\r\n      setDestinationColumn(destination.droppableId, newFinish, draggingSpot)\r\n    );\r\n  }\r\n\r\n  function handleSetOriginClick(routine) {\r\n    dispatch(setOrigin(routine.location));\r\n    if (originId) {\r\n      originId !== routine.id\r\n        ? dispatch(setOriginId(routine.id))\r\n        : dispatch(setOriginId(null));\r\n    } else {\r\n      dispatch(setOriginId(routine.id));\r\n    }\r\n    directionSteps\r\n      ? dispatch(setDirectionSteps(null))\r\n      : dispatch(setDirectionSteps(directionSteps));\r\n  }\r\n\r\n  function handleSetDestinationClick(routine) {\r\n    dispatch(setDestination(routine.location));\r\n  }\r\n\r\n  function handleDeleteRouteClick(originId) {\r\n    dispatch(deleteRouteByOriginId(originId));\r\n  }\r\n\r\n  return (\r\n    //  DropDragContext\r\n    <DragDropContext onDragEnd={onDragEnd}>\r\n      {currentDate === null &&\r\n        isPostItsLoading &&\r\n        isMarkerssLoading &&\r\n        isSchedulesLoading && <LoadingDiv>Loading</LoadingDiv>}\r\n      {!isPostItsLoading && !isMarkerssLoading && !isSchedulesLoading && (\r\n        <PlanWrapper>\r\n          {orderByStartRoutines && (\r\n            <ScheduleWrapper>\r\n              <DayLists />\r\n              <Droppable droppableId={\"dailyRoutine\"}>\r\n                {(provided, snapshot) => (\r\n                  <Schedule\r\n                    ref={provided.innerRef}\r\n                    {...provided.droppableProps}\r\n                    isDraggingOver={snapshot.isDraggingOver}\r\n                  >\r\n                    <ScheduleTitle>\r\n                      {currentDate !== null &&\r\n                        new Date(currentDate).toLocaleString([], {\r\n                          month: \"2-digit\",\r\n                          day: \"2-digit\",\r\n                        })}\r\n                    </ScheduleTitle>\r\n\r\n                    <ScheduleList>\r\n                      {orderByStartRoutines.map((routine, index) => (\r\n                        <div key={routine.id}>\r\n                          <ScheduleItemWrapper>\r\n                            <ScheduleCategory>\r\n                              {routine.category === \"hotel\" && (\r\n                                <FontAwesomeIcon icon={faHotel} />\r\n                              )}\r\n                              {routine.category === \"shopping\" && (\r\n                                <FontAwesomeIcon icon={faShoppingBag} />\r\n                              )}\r\n                              {routine.category === \"food\" && (\r\n                                <FontAwesomeIcon icon={faUtensils} />\r\n                              )}\r\n                              {routine.category === \"attraction\" && (\r\n                                <FontAwesomeIcon icon={faCampground} />\r\n                              )}\r\n                            </ScheduleCategory>\r\n                            <ScheduleItem>\r\n                              <ScheduleItemContent\r\n                                onClick={() => {\r\n                                  handleScheduleItemClick(index, routine);\r\n                                }}\r\n                              >\r\n                                {routine.location}\r\n                              </ScheduleItemContent>\r\n                              <SettingButtonWrapper>\r\n                                <SettingButton\r\n                                  onClick={() => handleSetOriginClick(routine)}\r\n                                >\r\n                                  出發地\r\n                                </SettingButton>\r\n                                <SettingButton\r\n                                  onClick={() =>\r\n                                    handleSetDestinationClick(routine)\r\n                                  }\r\n                                >\r\n                                  抵達地\r\n                                </SettingButton>\r\n                              </SettingButtonWrapper>\r\n                            </ScheduleItem>\r\n                            <ScheduleTimeWrapper>\r\n                              <ScheduleTime>\r\n                                {routine.start &&\r\n                                  new Date(routine.start).toLocaleTimeString(\r\n                                    [],\r\n                                    {\r\n                                      timeStyle: \"short\",\r\n                                      hour12: false,\r\n                                    }\r\n                                  )}\r\n                              </ScheduleTime>\r\n                              <ScheduleTime>\r\n                                {routine.end &&\r\n                                  new Date(routine.end).toLocaleTimeString([], {\r\n                                    timeStyle: \"short\",\r\n                                    hour12: false,\r\n                                  })}\r\n                              </ScheduleTime>\r\n                            </ScheduleTimeWrapper>\r\n\r\n                            <DeleteButton\r\n                              onClick={() => handleDeleteClick(routine.id)}\r\n                            >\r\n                              ✖\r\n                            </DeleteButton>\r\n                          </ScheduleItemWrapper>\r\n\r\n                          {routes &&\r\n                            routes.map(\r\n                              (route) =>\r\n                                route.originId === routine.id && (\r\n                                  <TrafficInfoWrapper key={route.originId}>\r\n                                    <TransitLines>\r\n                                      {route.directionSteps.travelMode ===\r\n                                        \"TRANSIT\" &&\r\n                                        route.directionSteps.steps.map(\r\n                                          (step, index) => (\r\n                                            <div key={index}>\r\n                                              <TransitLineWrapper>\r\n                                                <TransitLine>\r\n                                                  {step.line}{\" \"}\r\n                                                  {step.transitDuration}\r\n                                                </TransitLine>\r\n\r\n                                                <TransitStop>\r\n                                                  起始站：\r\n                                                  {step.departureStop}\r\n                                                </TransitStop>\r\n                                                <TransitInfo>\r\n                                                  {step.instructions}\r\n                                                </TransitInfo>\r\n                                                <TransitStop>\r\n                                                  終點站：\r\n                                                  {step.arrivalStop}\r\n                                                </TransitStop>\r\n                                              </TransitLineWrapper>\r\n                                            </div>\r\n                                          )\r\n                                        )}\r\n                                    </TransitLines>\r\n                                    <TrafficDuration>\r\n                                      <div>\r\n                                        {route.directionSteps.travelMode ===\r\n                                          \"WALKING\" && \"走路 \"}\r\n                                        {route.directionSteps.travelMode ===\r\n                                          \"DRIVING\" && \"開車 \"}\r\n                                        {route.directionSteps.travelMode ===\r\n                                          \"BICYCLING\" && \"腳踏車 \"}\r\n                                        {route.directionSteps.duration}\r\n                                      </div>\r\n\r\n                                      <TrafficInfoDeleteButton\r\n                                        onClick={() =>\r\n                                          handleDeleteRouteClick(route.originId)\r\n                                        }\r\n                                      >\r\n                                        ✖\r\n                                      </TrafficInfoDeleteButton>\r\n                                    </TrafficDuration>\r\n                                  </TrafficInfoWrapper>\r\n                                )\r\n                            )}\r\n                        </div>\r\n                      ))}\r\n\r\n                      <SchedulePlus onClick={handleSchedulePlusClick}>\r\n                        +\r\n                      </SchedulePlus>\r\n                    </ScheduleList>\r\n\r\n                    {provided.placeholder}\r\n                  </Schedule>\r\n                )}\r\n              </Droppable>\r\n            </ScheduleWrapper>\r\n          )}\r\n\r\n          {/* 新增 */}\r\n          <ScheduleAddForm />\r\n\r\n          {editRoutine && (\r\n            <ScheduleUpdateForm\r\n              editIndex={editIndex}\r\n              editRoutine={editRoutine}\r\n            />\r\n          )}\r\n\r\n          <MapArea />\r\n\r\n          <PostItItem />\r\n        </PlanWrapper>\r\n      )}\r\n    </DragDropContext>\r\n  );\r\n}\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nimport { getFinishPlanAPI } from \"../../webAPI\";\r\n\r\nexport const finishPlanReducer = createSlice({\r\n  name: \"postIt\",\r\n  initialState: {\r\n    dailyRoutines: null,\r\n    location: null,\r\n    scheduleName: null,\r\n    isLoading: false,\r\n  },\r\n  reducers: {\r\n    setIsLoading: (state, action) => {\r\n      state.isLoading = action.payload;\r\n    },\r\n    setDailyRoutines: (state, action) => {\r\n      state.dailyRoutines = action.payload;\r\n    },\r\n    setLocation: (state, action) => {\r\n      state.location = action.payload;\r\n    },\r\n    setScheduleName: (state, action) => {\r\n      state.scheduleName = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setDailyRoutines,\r\n  setLocation,\r\n  setScheduleName,\r\n  setIsLoading,\r\n} = finishPlanReducer.actions;\r\n\r\nexport const getFinishPlan = (userId, scheduleId) => (dispatch) => {\r\n  dispatch(setIsLoading(true));\r\n  getFinishPlanAPI(userId, scheduleId).then((res) => {\r\n    dispatch(setDailyRoutines(res.dailyRoutines));\r\n    dispatch(setScheduleName(res.scheduleName));\r\n    dispatch(setLocation(res.location));\r\n    dispatch(setIsLoading(false));\r\n  });\r\n};\r\n\r\nexport default finishPlanReducer.reducer;\r\n","import styled from \"styled-components\";\r\nimport { MEDIA_QUERY_SM } from \"../constants/break_point\";\r\n\r\nexport const Wrapper = styled.div`\r\n  margin: 0px auto;\r\n  padding-top: ${(props) => props.theme.heights.header};\r\n  margin-bottom: ${(props) => props.theme.heights.footer};\r\n  padding-bottom: ${(props) => props.theme.heights.footer};\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n  max-width: ${(props) => props.theme.Wrappers.largeWidth};\r\n  min-height: 100vh;\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    width: 100vw;\r\n  }\r\n`;\r\n\r\nexport const PlanHeader = styled.div`\r\n  position: relative;\r\n  margin: 60px auto 0px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  word-break: break-all;\r\n`;\r\n\r\nexport const PlanLocation = styled.div`\r\n  margin-right: 5px;\r\n  padding: 5px;\r\n  width: 60px;\r\n  border-radius: 5px;\r\n  background: ${(props) => props.theme.secondaryColors.secondaryLighter};\r\n  text-align: center;\r\n  font-size: ${(props) => props.theme.fontSizes.extraSmall};\r\n`;\r\n\r\nexport const PlanTitle = styled.div`\r\n  font-size: ${(props) => props.theme.fontSizes.large};\r\n  color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n`;\r\n\r\nexport const PlanWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nexport const PlanColumn = styled.div`\r\n  width: 420px;\r\n  margin: 10px;\r\n  border: 1px solid ${(props) => props.theme.primaryColors.primaryLighter};\r\n  border-radius: 5px;\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    width: 320px;\r\n  }\r\n`;\r\n\r\nexport const RoutineTitle = styled.div`\r\n  padding: 2px 10px;\r\n  font-size: ${(props) => props.theme.fontSizes.mudium};\r\n  font-style: italic;\r\n  background: ${(props) => props.theme.primaryColors.primaryLighter};\r\n  color: ${(props) => props.theme.primaryColors.primaryDarker};\r\n  font-weight: bold;\r\n\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nexport const RoutineWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 10px;\r\n  height: 420px;\r\n\r\n  overflow: auto;\r\n`;\r\n\r\nexport const Spot = styled.div`\r\n  width: 100%;\r\n  & + & {\r\n    margin-top: 5px;\r\n  }\r\n  color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n`;\r\n\r\nexport const SpotInfo = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  border: 1px solid ${(props) => props.theme.secondaryColors.secondaryLighter};\r\n  border-radius: 5px;\r\n`;\r\n\r\nexport const SpotName = styled.div`\r\n  padding: 0 2px;\r\n`;\r\n\r\nexport const TimeWrapper = styled.div`\r\n  width: 100px;\r\n  border: 1px solid ${(props) => props.theme.secondaryColors.secondaryLighter};\r\n  background: ${(props) => props.theme.secondaryColors.secondaryLighter};\r\n  text-align: center;\r\n`;\r\n\r\nexport const SpotCategory = styled.div`\r\n  margin-left: 5px;\r\n  width: 32px;\r\n`;\r\n\r\nexport const SpotMemo = styled.div`\r\n  padding: 5px 0;\r\n  word-break: break-all;\r\n`;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getFinishPlan } from \"../../redux/reducers/finishPlanReducer\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { getAuthTokenFromSessionStorage } from \"../../utils\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faUtensils,\r\n  faCampground,\r\n  faHotel,\r\n  faShoppingBag,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport {\r\n  Wrapper,\r\n  PlanHeader,\r\n  PlanLocation,\r\n  PlanTitle,\r\n  PlanWrapper,\r\n  PlanColumn,\r\n  RoutineTitle,\r\n  RoutineWrapper,\r\n  Spot,\r\n  SpotInfo,\r\n  SpotName,\r\n  TimeWrapper,\r\n  SpotCategory,\r\n  SpotMemo,\r\n} from \"../../components/PlanTemplate\";\r\n\r\nexport default function FinishPlanPage() {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const scheduleName = useSelector((store) => store.finishPlans.scheduleName);\r\n  const dailyRoutines = useSelector((store) => store.finishPlans.dailyRoutines);\r\n  const isLoading = useSelector((store) => store.finishPlans.isLoading);\r\n  const location = useSelector((store) => store.finishPlans.location);\r\n  const [dates, setDates] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (getAuthTokenFromSessionStorage(\"userId\") === null) {\r\n      return history.push(\"/\");\r\n    }\r\n  }, [history]);\r\n\r\n  useEffect(() => {\r\n    const datesTest = [];\r\n    if (dailyRoutines) {\r\n      Object.keys(dailyRoutines).map((key) => datesTest.push(key));\r\n    }\r\n    setDates(datesTest);\r\n  }, [dailyRoutines, dispatch]);\r\n\r\n  useEffect(() => {\r\n    const userId = sessionStorage.getItem(\"userId\");\r\n    const scheduleId = sessionStorage.getItem(\"scheduleId\");\r\n    dispatch(getFinishPlan(userId, scheduleId));\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Wrapper>\r\n      {!isLoading && scheduleName && dailyRoutines && location && (\r\n        <div>\r\n          <PlanHeader>\r\n            <PlanLocation>{location}</PlanLocation>\r\n            <PlanTitle>{scheduleName}</PlanTitle>\r\n          </PlanHeader>\r\n          <PlanWrapper>\r\n            {dates &&\r\n              dates.map((date) => (\r\n                <PlanColumn key={date}>\r\n                  <RoutineTitle>\r\n                    {new Date(Number(date)).toLocaleString([], {\r\n                      month: \"2-digit\",\r\n                      day: \"2-digit\",\r\n                    })}\r\n                  </RoutineTitle>\r\n                  <RoutineWrapper>\r\n                    {dailyRoutines[date] &&\r\n                      dailyRoutines[date].map((routine) => (\r\n                        <Spot key={routine.id}>\r\n                          <SpotInfo>\r\n                            <SpotCategory>\r\n                              {routine.category === \"hotel\" && (\r\n                                <FontAwesomeIcon icon={faHotel} />\r\n                              )}\r\n                              {routine.category === \"shopping\" && (\r\n                                <FontAwesomeIcon icon={faShoppingBag} />\r\n                              )}\r\n                              {routine.category === \"food\" && (\r\n                                <FontAwesomeIcon icon={faUtensils} />\r\n                              )}\r\n                              {routine.category === \"attraction\" && (\r\n                                <FontAwesomeIcon icon={faCampground} />\r\n                              )}\r\n                            </SpotCategory>\r\n                            <SpotName>{routine.location}</SpotName>\r\n                            <TimeWrapper>\r\n                              {\" \"}\r\n                              {new Date(routine.start).toLocaleTimeString([], {\r\n                                timeStyle: \"short\",\r\n                                hour12: false,\r\n                              })}{\" \"}\r\n                              ~{\" \"}\r\n                              {new Date(routine.end).toLocaleTimeString([], {\r\n                                timeStyle: \"short\",\r\n                                hour12: false,\r\n                              })}\r\n                            </TimeWrapper>\r\n                          </SpotInfo>\r\n                          <SpotMemo>{routine.memo}</SpotMemo>\r\n                        </Spot>\r\n                      ))}\r\n                  </RoutineWrapper>\r\n                </PlanColumn>\r\n              ))}\r\n          </PlanWrapper>\r\n        </div>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\n// scheduleName\r\n// location\r\n// dailyRoutines.key 每天\r\n// dailyRoutines.key 下面每天行程\r\n// location\r\n// category\r\n// memo\r\n","import styled from \"styled-components\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getSinglePost } from \"../../redux/reducers/postsReducer\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faUtensils,\r\n  faCampground,\r\n  faHotel,\r\n  faShoppingBag,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport {\r\n  Wrapper,\r\n  PlanHeader,\r\n  PlanLocation,\r\n  PlanTitle,\r\n  PlanWrapper,\r\n  PlanColumn,\r\n  RoutineTitle,\r\n  RoutineWrapper,\r\n  Spot,\r\n  SpotInfo,\r\n  SpotName,\r\n  TimeWrapper,\r\n  SpotCategory,\r\n  SpotMemo,\r\n} from \"../../components/PlanTemplate\";\r\n\r\nconst PlanNickname = styled.div`\r\n  margin-bottom: 20px;\r\n  border-radius: 10px;\r\n  text-align: center;\r\n  font-weight: bold;\r\n  font-size: ${(props) => props.theme.fontSizes.small};\r\n  color: ${(props) => props.theme.secondaryColors.secondaryLighter};\r\n`;\r\n\r\nexport default function ExploreSinglePage() {\r\n  let { slug } = useParams();\r\n  const dispatch = useDispatch();\r\n  const scheduleInfo = useSelector((store) => store.posts.singlePost);\r\n  const isLoading = useSelector((store) => store.posts.isLoading);\r\n  const [dates, setDates] = useState([]);\r\n  const [dailyRoutines, setDailyRoutines] = useState();\r\n  const [scheduleName, setScheduleName] = useState();\r\n  const [location, setLocation] = useState();\r\n  const [nickname, setNickname] = useState();\r\n\r\n  useEffect(() => {\r\n    const scheduleId = slug;\r\n    dispatch(getSinglePost(scheduleId));\r\n  }, [dispatch, slug]);\r\n\r\n  useEffect(() => {\r\n    if (scheduleInfo) {\r\n      setDailyRoutines(scheduleInfo.dailyRoutines);\r\n      setScheduleName(scheduleInfo.scheduleName);\r\n      setLocation(scheduleInfo.location);\r\n      setNickname(scheduleInfo.user);\r\n    }\r\n  }, [scheduleInfo, dailyRoutines]);\r\n\r\n  useEffect(() => {\r\n    window.scroll(0, 0);\r\n    const datesTest = [];\r\n    if (dailyRoutines) {\r\n      Object.keys(dailyRoutines).map((key) => datesTest.push(key));\r\n    }\r\n    setDates(datesTest);\r\n  }, [dailyRoutines]);\r\n\r\n  return (\r\n    <Wrapper $solidPlate={true}>\r\n      {!isLoading && scheduleName && dailyRoutines && location && nickname && (\r\n        <div>\r\n          <PlanHeader>\r\n            <PlanLocation>{location}</PlanLocation>\r\n            <PlanTitle>{scheduleName}</PlanTitle>\r\n          </PlanHeader>\r\n          <PlanNickname>\r\n            {nickname.fbName ? nickname.fbName : nickname.nickname}\r\n          </PlanNickname>\r\n          <PlanWrapper>\r\n            {dates &&\r\n              dates.map((date) => (\r\n                <PlanColumn key={date}>\r\n                  <RoutineTitle>\r\n                    {new Date(Number(date)).toLocaleString([], {\r\n                      month: \"2-digit\",\r\n                      day: \"2-digit\",\r\n                    })}\r\n                  </RoutineTitle>\r\n                  <RoutineWrapper>\r\n                    {dailyRoutines[date] &&\r\n                      dailyRoutines[date].map((routine) => (\r\n                        <Spot key={routine.id}>\r\n                          <SpotInfo>\r\n                            <SpotCategory>\r\n                              {routine.category === \"hotel\" && (\r\n                                <FontAwesomeIcon icon={faHotel} />\r\n                              )}\r\n                              {routine.category === \"shopping\" && (\r\n                                <FontAwesomeIcon icon={faShoppingBag} />\r\n                              )}\r\n                              {routine.category === \"food\" && (\r\n                                <FontAwesomeIcon icon={faUtensils} />\r\n                              )}\r\n                              {routine.category === \"attraction\" && (\r\n                                <FontAwesomeIcon icon={faCampground} />\r\n                              )}\r\n                            </SpotCategory>\r\n                            <SpotName>{routine.location}</SpotName>\r\n                            <TimeWrapper>\r\n                              {\" \"}\r\n                              {new Date(routine.start).toLocaleTimeString([], {\r\n                                timeStyle: \"short\",\r\n                                hour12: false,\r\n                              })}{\" \"}\r\n                              ~{\" \"}\r\n                              {new Date(routine.end).toLocaleTimeString([], {\r\n                                timeStyle: \"short\",\r\n                                hour12: false,\r\n                              })}\r\n                            </TimeWrapper>\r\n                          </SpotInfo>\r\n                          <SpotMemo>{routine.memo}</SpotMemo>\r\n                        </Spot>\r\n                      ))}\r\n                  </RoutineWrapper>\r\n                </PlanColumn>\r\n              ))}\r\n          </PlanWrapper>\r\n        </div>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport { MEDIA_QUERY_SM } from \"../../constants/break_point\";\r\n\r\nconst FooterContainer = styled.div`\r\n  position: relative;\r\n  bottom: ${(props) => props.theme.heights.footer};\r\n  z-index: 2;\r\n  height: ${(props) => props.theme.heights.footer};\r\n  width: 100%;\r\n  background: ${(props) => props.theme.secondaryColors.secondaryLighter};\r\n  text-align: center;\r\n  color: ${(props) => props.theme.secondaryColors.secondaryDarker};\r\n  font-size: ${(props) => props.theme.fontSizes.extraSmall};\r\n  line-height: ${(props) => props.theme.heights.footer};\r\n  box-shadow: 1px 1px 5px grey;\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    width: 100vw;\r\n  }\r\n`;\r\n\r\nexport default function Footer() {\r\n  return <FooterContainer>Made by HIT-THE-ROAD</FooterContainer>;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo_static.33ee3c7f.svg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"grid\",\n  display: \"none\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  x: -5.123,\n  y: 254.157,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 50.57,\n  y: 254.157,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 106.263,\n  y: 254.157,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 161.956,\n  y: 254.157,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 217.649,\n  y: 254.157,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: -5.123,\n  y: 309.851,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.692\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 50.57,\n  y: 309.851,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.692\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 106.263,\n  y: 309.851,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.692\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 161.956,\n  y: 309.851,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.692\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 217.649,\n  y: 309.851,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.692\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: -5.123,\n  y: 142.772,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 50.57,\n  y: 142.772,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 106.263,\n  y: 142.772,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 161.956,\n  y: 142.772,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 217.649,\n  y: 142.772,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: -5.123,\n  y: 198.466,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 50.57,\n  y: 198.466,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 106.263,\n  y: 198.466,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 161.956,\n  y: 198.466,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 217.649,\n  y: 198.466,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 273.341,\n  y: 254.157,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.692,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 329.034,\n  y: 254.157,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 384.727,\n  y: 254.157,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 273.341,\n  y: 309.851,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.692,\n  height: 55.692\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 329.034,\n  y: 309.851,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.692\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 384.727,\n  y: 309.851,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.692\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 273.341,\n  y: 142.772,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.692,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 329.034,\n  y: 142.772,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 384.727,\n  y: 142.772,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 273.341,\n  y: 198.466,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.692,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 329.034,\n  y: 198.466,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 384.727,\n  y: 198.466,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: -5.123,\n  y: 31.388,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 50.57,\n  y: 31.388,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 106.263,\n  y: 31.388,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 161.956,\n  y: 31.388,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  points: \"273.342,87.081 217.649,87.081  217.649,59.234 217.649,31.388 273.342,31.388  \"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: -5.123,\n  y: 87.081,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 50.57,\n  y: 87.081,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 106.263,\n  y: 87.081,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 161.956,\n  y: 87.081,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 217.649,\n  y: 87.081,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 273.341,\n  y: 31.388,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.692,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 329.034,\n  y: 31.388,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 384.727,\n  y: 31.388,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 273.341,\n  y: 87.081,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.692,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 329.034,\n  y: 87.081,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 384.727,\n  y: 87.081,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 440.42,\n  y: 254.157,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 496.114,\n  y: 254.157,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 440.42,\n  y: 309.851,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.692\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 496.114,\n  y: 309.851,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.692\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 440.42,\n  y: 142.772,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 496.114,\n  y: 142.772,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 440.42,\n  y: 198.466,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 496.114,\n  y: 198.466,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 440.42,\n  y: 31.388,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 496.114,\n  y: 31.388,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.693\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 440.42,\n  y: 87.081,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 496.114,\n  y: 87.081,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  width: 55.693,\n  height: 55.691\n}), /*#__PURE__*/React.createElement(\"line\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  x1: 161.956,\n  y1: 31.388,\n  x2: 496.114,\n  y2: 365.543\n}), /*#__PURE__*/React.createElement(\"line\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  x1: 106.263,\n  y1: 31.388,\n  x2: 440.42,\n  y2: 365.543\n}), /*#__PURE__*/React.createElement(\"line\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  x1: 189.802,\n  y1: 170.619,\n  x2: 356.88,\n  y2: 170.619\n}), /*#__PURE__*/React.createElement(\"line\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  x1: 245.496,\n  y1: 226.312,\n  x2: 412.574,\n  y2: 226.312\n}), /*#__PURE__*/React.createElement(\"polyline\", {\n  display: \"inline\",\n  fill: \"none\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  points: \"384.727,198.466 329.034,254.157  329.034,309.851 440.42,198.466  \"\n}), /*#__PURE__*/React.createElement(\"polyline\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  points: \"329.035,114.927 161.947,114.927  -5.123,114.927  \"\n}), /*#__PURE__*/React.createElement(\"line\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  x1: 301.187,\n  y1: 114.927,\n  x2: 301.187,\n  y2: 87.081\n}), /*#__PURE__*/React.createElement(\"line\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  x1: 301.187,\n  y1: 101.004,\n  x2: 273.341,\n  y2: 101.004\n}), /*#__PURE__*/React.createElement(\"line\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  x1: 287.264,\n  y1: 101.004,\n  x2: 287.264,\n  y2: 277.105\n}), /*#__PURE__*/React.createElement(\"polyline\", {\n  display: \"inline\",\n  fill: \"none\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  points: \"205.36,282.004 273.342,282.004  356.88,198.466  \"\n}), /*#__PURE__*/React.createElement(\"line\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  x1: 384.727,\n  y1: 59.234,\n  x2: 217.649,\n  y2: 59.234\n}), /*#__PURE__*/React.createElement(\"line\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  x1: 134.11,\n  y1: 142.773,\n  x2: 134.11,\n  y2: 114.927\n}), /*#__PURE__*/React.createElement(\"line\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  x1: 134.11,\n  y1: 128.85,\n  x2: 356.88,\n  y2: 128.85\n}), /*#__PURE__*/React.createElement(\"polyline\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  points: \"245.496,309.851 245.496,213.438  245.495,31.388  \"\n}), /*#__PURE__*/React.createElement(\"line\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  x1: 245.496,\n  y1: 211.771,\n  x2: 217.649,\n  y2: 211.771\n}), /*#__PURE__*/React.createElement(\"line\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  x1: 231.572,\n  y1: 211.771,\n  x2: 231.572,\n  y2: 94.105\n}), /*#__PURE__*/React.createElement(\"line\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  x1: 148.193,\n  y1: 114.927,\n  x2: 148.193,\n  y2: 128.85\n}), /*#__PURE__*/React.createElement(\"line\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  x1: 148.193,\n  y1: 121.888,\n  x2: 231.572,\n  y2: 121.888\n}), /*#__PURE__*/React.createElement(\"polyline\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  points: \"217.649,206.771 224.611,206.771  231.572,206.771  \"\n}), /*#__PURE__*/React.createElement(\"line\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#B5B5B6\",\n  strokeMiterlimit: 10,\n  x1: 224.611,\n  y1: 105.438,\n  x2: 224.611,\n  y2: 206.771\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"\\\\u5716\\\\u5C64_2\",\n  display: \"none\"\n}, /*#__PURE__*/React.createElement(\"polyline\", {\n  display: \"inline\",\n  fill: \"none\",\n  stroke: \"#1D2088\",\n  strokeWidth: 2,\n  strokeMiterlimit: 10,\n  points: \"-5.123,309.851  161.956,309.851 217.649,198.466 217.649,142.772 237.305,106.736  \"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  display: \"inline\",\n  fill: \"none\",\n  stroke: \"#1D2088\",\n  strokeWidth: 2,\n  strokeMiterlimit: 10,\n  d: \"M301.187,226.312\"\n}), /*#__PURE__*/React.createElement(\"polyline\", {\n  display: \"inline\",\n  fill: \"none\",\n  stroke: \"#1D2088\",\n  strokeWidth: 2,\n  strokeMiterlimit: 10,\n  points: \"237.305,106.736  273.341,142.772 301.187,198.466  \"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#1D2088\",\n  strokeWidth: 2,\n  strokeMiterlimit: 10,\n  cx: 280.303,\n  cy: -22.602,\n  r: 19.656\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 440.42,\n  y: 31.388,\n  display: \"inline\",\n  fill: \"none\",\n  stroke: \"#1D2088\",\n  strokeWidth: 2,\n  strokeMiterlimit: 10,\n  width: 27.847,\n  height: 83.539\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 338.786,\n  y: 244.32,\n  transform: \"matrix(0.866 -0.5 0.5 0.866 -90.5982 213.2833)\",\n  display: \"inline\",\n  fill: \"none\",\n  stroke: \"#1D2088\",\n  strokeWidth: 2,\n  strokeMiterlimit: 10,\n  width: 27.847,\n  height: 62.774\n}), /*#__PURE__*/React.createElement(\"line\", {\n  display: \"inline\",\n  fill: \"none\",\n  stroke: \"#1D2088\",\n  strokeWidth: 2,\n  strokeMiterlimit: 10,\n  x1: 295.611,\n  y1: 205.39,\n  x2: 337.38,\n  y2: 277.737\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  x: 217.649,\n  y: 87.081,\n  display: \"inline\",\n  fill: \"#FFFFFF\",\n  stroke: \"#1D2088\",\n  strokeWidth: 2,\n  strokeMiterlimit: 10,\n  width: 27.847,\n  height: 36.051\n}), /*#__PURE__*/React.createElement(\"line\", {\n  display: \"inline\",\n  fill: \"none\",\n  stroke: \"#1D2088\",\n  strokeWidth: 2,\n  strokeMiterlimit: 10,\n  x1: 551.807,\n  y1: 309.851,\n  x2: 356.88,\n  y2: 309.851\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"\\\\u5716\\\\u5C64_3\",\n  display: \"none\"\n}, /*#__PURE__*/React.createElement(\"polyline\", {\n  display: \"inline\",\n  fill: \"none\",\n  stroke: \"#E61673\",\n  strokeWidth: 2,\n  strokeMiterlimit: 10,\n  points: \"-5.123,309.851  161.956,309.851 217.649,198.466 217.649,142.772 228.362,123.131 217.649,123.131 217.649,87.081 245.496,87.081 245.496,114.927  273.342,142.772 301.187,198.466 292.693,205.39 324.958,255.486 349.074,241.563 380.46,295.928 356.344,309.851 551.807,309.851  \"\n}));\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"\\\\u5716\\\\u5C64_4\",\n  display: \"none\"\n}, /*#__PURE__*/React.createElement(\"polyline\", {\n  display: \"inline\",\n  fill: \"none\",\n  stroke: \"#F39800\",\n  strokeWidth: 2,\n  strokeMiterlimit: 10,\n  points: \"-5.123,282.004  161.956,282.004 217.649,198.466 217.649,142.772 228.362,123.131 217.649,114.927 217.649,87.081 245.496,87.081 245.496,114.927  273.342,142.772 297.638,170.079 298.908,198.466 319.36,231.438 339.061,216.383 376.693,268.105 353.36,282.004 551.807,282.004  \"\n}));\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"\\\\u5716\\\\u5C64_5\",\n  display: \"none\"\n}, /*#__PURE__*/React.createElement(\"polyline\", {\n  display: \"inline\",\n  fill: \"none\",\n  stroke: \"#F39800\",\n  strokeWidth: 2,\n  strokeMiterlimit: 10,\n  points: \"-5.123,282.004  161.956,282.004 217.649,198.466 217.649,142.772 224.611,121.888 217.649,114.927 217.649,87.081 245.496,87.081 245.496,114.927  273.342,142.772 301.187,170.619 301.187,198.466 287.264,212.388 315.111,240.234 342.958,212.389 384.727,254.157  356.88,282.004 551.807,282.004  \"\n}));\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"\\\\u5716\\\\u5C64_7\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  stroke: \"#fff5f6\",\n  strokeWidth: 4,\n  strokeMiterlimit: 10,\n  d: \"M19.437,264.577c0,0,149.815,0,157.482,0 s7.674,2.885,15.777-9.27s43.642-65.461,43.642-65.461s5.871-5.834,5.871-16.834s0-38.667,0-38.667s-0.429-7.712,2.905-17.713 c3.333-10,2.517-7.55,2.517-7.55s2.231-3.929-1.186-7.346s-2.667-2.667-2.667-2.667s-1.57-0.642-1.57-6.558s0-14.75,0-14.75 s-0.957-8.108,3.46-8.108s21.167,0,21.167,0s3.219-0.809,3.219,3.858s0,19.417,0,19.417s0.104,4.676,2.604,7.176 s49.708,49.708,49.708,49.708s3.379,2.865,3.379,7.865s0,18.5,0,18.5s-0.191,5.053-2.484,7.344 c-2.291,2.291-8.875,8.875-8.875,8.875s-1.449,3.68,1.238,6.367s20.125,20.124,20.125,20.124s3.734,4.105,8.297-0.457 s19.688-19.687,19.688-19.687s3.049-4.516,7.486-0.078s35,35,35,35s3.471,2.658,0.596,5.533s-21.75,21.75-21.75,21.75 s-5.689,3.627,1.936,3.627s189.363,0,189.363,0\"\n}));\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"595.276px\",\n    height: \"340.157px\",\n    viewBox: \"0 0 595.276 340.157\",\n    enableBackground: \"new 0 0 595.276 340.157\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.c7dd8706.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport logo from \"../../static/logo_static.svg\";\r\nimport { ReactComponent as LogoSVG } from \"../../static/logo.svg\";\r\nimport \"./Header.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteAuthTokenFromLocalStorage } from \"../../utils\";\r\nimport { setUserData } from \"../../redux/reducers/usersReducer\";\r\nimport { MEDIA_QUERY_SM } from \"../../constants/break_point\";\r\n\r\nconst HeaderContainer = styled.div`\r\n  position: ${(props) => (props.$atHomepage ? `relative` : `fixed`)};\r\n  height: ${(props) =>\r\n    props.$atHomepage\r\n      ? props.theme.heights.homepageHeader\r\n      : props.theme.heights.header};\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  right: 0;\r\n  left: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  padding: 0px, 30px;\r\n  ${(props) => props.$atHomepage && `padding-top: 30px`};\r\n  z-index: 2;\r\n  background: linear-gradient(\r\n    ${(props) => props.theme.primaryColors.primaryLight},\r\n    ${(props) => props.theme.secondaryColors.secondaryLighter}\r\n  );\r\n  box-shadow: 0px 2px 2px grey;\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    width: 100vw;\r\n  }\r\n`;\r\n\r\nconst HeaderUpContainer = styled.div`\r\n  width: 100%;\r\n  height: ${(props) => (props.$atHomepage ? `auto` : \"100%  \")};\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst Logo = styled.div`\r\n  position: relative;\r\n  top: 3px;\r\n  bottom: 3px;\r\n  width: ${(props) => (props.$atHomepage ? \"360px\" : \"180px\")};\r\n  height: ${(props) => (props.$atHomepage ? \"120px\" : \"60px\")};\r\n  background: url(${logo});\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: ${(props) =>\r\n    props.$atHomepage ? \"360px 120px\" : \"180px 60px\"};\r\n  ${(props) => props.$atHomepage && `bottom: 20px;`}\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    bottom: 0px;\r\n    transform: scale(0.8);\r\n    width: 120px;\r\n  }\r\n`;\r\n\r\nconst Brand = styled.div`\r\n  margin-left: 20px;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  text-decoration: none;\r\n  color: ${(props) => props.theme.secondaryColors.secondary};\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    display: none;\r\n  }\r\n\r\n  &:hover {\r\n    color: ${(props) => props.theme.basicColors.white};\r\n  }\r\n`;\r\n\r\nconst NavbarWrapper = styled.div``;\r\n\r\nconst NavbarButton = styled.div`\r\n  display: none;\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    position: relative;\r\n    display: block;\r\n    margin-right: 10px;\r\n    width: 24px;\r\n    height: 24px;\r\n    cursor: pointer;\r\n\r\n    &::before {\r\n      content: \"\";\r\n      display: block;\r\n      width: 100%;\r\n      height: 100%;\r\n      border-top: 2px solid ${(props) => props.theme.basicColors.white};\r\n      border-bottom: 2px solid ${(props) => props.theme.basicColors.white};\r\n    }\r\n\r\n    &::after {\r\n      content: \"\";\r\n      display: block;\r\n      position: absolute;\r\n      transform: translateY(-50%);\r\n      width: 100%;\r\n      height: 100%;\r\n      border-top: 2px solid ${(props) => props.theme.basicColors.white};\r\n    }\r\n  }\r\n`;\r\n\r\nconst NavbarList = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: 10px;\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    flex-direction: column;\r\n    position: absolute;\r\n    top: ${(props) => props.theme.heights.header};\r\n    left: ${(props) => (props.$isNavbarListShow ? \"0px\" : \"-100%\")};\r\n    padding-left: 5px;\r\n    padding-right: 5px;\r\n    width: 100px;\r\n    text-align: center;\r\n    background: ${(props) => props.theme.secondaryColors.secondaryLighter};\r\n    box-shadow: -3px 3px 3px grey;\r\n    transition: left 1s ease;\r\n  }\r\n`;\r\n\r\nconst Nav = styled(Link)`\r\n  box-sizing: border-box;\r\n  padding: 10px 15px 5px;\r\n  border-bottom: 1px solid transparent;\r\n  color: ${(props) => props.theme.secondaryColors.secondary};\r\n  font-weight: bold;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  transition: all 0.5s;\r\n\r\n  &:hover {\r\n    border-bottom: 1px solid ${(props) => props.theme.basicColors.white};\r\n    color: ${(props) => props.theme.basicColors.white};\r\n  }\r\n\r\n  ${(props) =>\r\n    props.$active &&\r\n    `background: ${(props) => props.theme.primaryColors.primaryDarker};`}\r\n\r\n  ${MEDIA_QUERY_SM} {\r\n    display: block;\r\n    margin: 0;\r\n    width: 100%;\r\n    border-bottom: 1px solid ${(props) => props.theme.basicColors.white};\r\n    border-radius: 0;\r\n    color: ${(props) => props.theme.secondaryColors.secondaryDark};\r\n  }\r\n`;\r\n\r\nconst LeftContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  ${NavbarList} {\r\n    margin-left: 32px;\r\n  }\r\n`;\r\n\r\nconst HeaderSlogan = styled.div`\r\n  position: relative;\r\n  top: -40px;\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 20px;\r\n  padding: 15px 25px;\r\n  border: solid 3px ${(props) => props.theme.basicColors.white};\r\n  font-size: ${(props) => props.theme.titles.h3};\r\n  font-weight: bold;\r\n  color: ${(props) => props.theme.basicColors.white};\r\n  cursor: pointer;\r\n  transition: border 1s;\r\n\r\n  &:hover {\r\n    animation: Gradient linear;\r\n    animation-duration: 1s;\r\n    animation-iteration-count: infinite;\r\n\r\n    border: 3px solid transparent;\r\n  }\r\n`;\r\n\r\nexport default function Header({ isCheckedLogin }) {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const userData = useSelector((store) => store.users.userData);\r\n  const [isNavbarListShow, setIsNavbarListShow] = useState(false);\r\n\r\n  function handleLogout() {\r\n    deleteAuthTokenFromLocalStorage();\r\n    dispatch(setUserData(null));\r\n  }\r\n\r\n  return (\r\n    <HeaderContainer $atHomepage={location.pathname === \"/\"}>\r\n      <HeaderUpContainer $atHomepage={location.pathname === \"/\"}>\r\n        <LeftContainer>\r\n          {location.pathname === \"/\" && (\r\n            <Brand as={Link} to=\"/\">\r\n              HitTheRoad\r\n            </Brand>\r\n          )}\r\n          {location.pathname !== \"/\" && (\r\n            <Logo as={Link} $atHomepage={location.pathname === \"/\"} to=\"/\" />\r\n          )}\r\n        </LeftContainer>\r\n        {isCheckedLogin && (\r\n          <NavbarWrapper>\r\n            <NavbarButton\r\n              onClick={() => setIsNavbarListShow(!isNavbarListShow)}\r\n            />\r\n            <NavbarList $isNavbarListShow={isNavbarListShow}>\r\n              <Nav\r\n                to=\"/explore/location/全部\"\r\n                $active={location.pathname === \"/user\"}\r\n                onClick={() => setIsNavbarListShow(false)}\r\n              >\r\n                探索行程\r\n              </Nav>\r\n              {userData && (\r\n                <Nav\r\n                  to=\"/user\"\r\n                  $active={location.pathname === \"/user\"}\r\n                  onClick={() => setIsNavbarListShow(false)}\r\n                >\r\n                  編輯行程\r\n                </Nav>\r\n              )}\r\n              {!userData && (\r\n                <Nav\r\n                  to=\"/login\"\r\n                  $active={location.pathname === \"/login\"}\r\n                  onClick={() => setIsNavbarListShow(false)}\r\n                >\r\n                  登入\r\n                </Nav>\r\n              )}\r\n              {!userData && (\r\n                <Nav\r\n                  to=\"/register\"\r\n                  $active={location.pathname === \"/register\"}\r\n                  onClick={() => setIsNavbarListShow(false)}\r\n                >\r\n                  註冊\r\n                </Nav>\r\n              )}\r\n              {userData && (\r\n                <Nav\r\n                  to=\"/\"\r\n                  onClick={() => {\r\n                    setIsNavbarListShow(false);\r\n                    handleLogout();\r\n                  }}\r\n                >\r\n                  登出\r\n                </Nav>\r\n              )}\r\n            </NavbarList>\r\n          </NavbarWrapper>\r\n        )}\r\n      </HeaderUpContainer>\r\n      {location.pathname === \"/\" && (\r\n        <>\r\n          <LogoSVG\r\n            className=\"LogoSVG\"\r\n            stroke=\"#DB7290\"\r\n            strokeWidth=\"1rem\"\r\n            fill=\"#000000\"\r\n          ></LogoSVG>\r\n          <Link to={userData ? \"/create\" : \"/login\"}>\r\n            <HeaderSlogan>開始探索旅程</HeaderSlogan>\r\n          </Link>\r\n        </>\r\n      )}\r\n    </HeaderContainer>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport \"./App.css\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport HomePage from \"../../pages/HomePages\";\r\nimport LoginPage from \"../../pages/LoginPages\";\r\nimport RegisterPage from \"../../pages/RegisterPages\";\r\nimport ExpolorePage from \"../../pages/ExplorePages\";\r\nimport CreatePage from \"../../pages/CreatePages\";\r\nimport UserPage from \"../../pages/UserPages\";\r\nimport EditPage from \"../../pages/EditPages\";\r\nimport PlanningPage from \"../../pages/PlanningPages\";\r\nimport FinishPlanPage from \"../../pages/FinishPlanPages\";\r\nimport ExploreSinglePage from \"../../pages/ExploreSinglePages\";\r\nimport Footer from \"../Footer\";\r\nimport Header from \"../Header\";\r\nimport { checkIsLogin } from \"../../redux/reducers/usersReducer\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nfunction App({ FBstartApp, FBdeleteApp }) {\r\n  const dispatch = useDispatch();\r\n  const [isCheckedLogin, setIsCheckedLogin] = useState(false);\r\n\r\n  useEffect(() => {\r\n    dispatch(checkIsLogin()).then(() => setIsCheckedLogin(true));\r\n\r\n    return async () => {\r\n      await dispatch(checkIsLogin()).then(() => setIsCheckedLogin(true));\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Router>\r\n      <Header isCheckedLogin={isCheckedLogin} />\r\n      {isCheckedLogin && (\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <HomePage />\r\n          </Route>\r\n          <Route exact path=\"/login\">\r\n            <LoginPage />\r\n          </Route>\r\n          <Route exact path=\"/register\">\r\n            <RegisterPage FBstartApp={FBstartApp} FBdeleteApp={FBdeleteApp} />\r\n          </Route>\r\n          <Route exact path=\"/create\">\r\n            <CreatePage />\r\n          </Route>\r\n          <Route exact path=\"/edit/:id\">\r\n            <EditPage />\r\n          </Route>\r\n          <Route exact path=\"/user\">\r\n            <UserPage />\r\n          </Route>\r\n          <Route exact path=\"/explore/location/:slug\">\r\n            <ExpolorePage />\r\n          </Route>\r\n          <Route path=\"/planning-page\">\r\n            <PlanningPage />\r\n          </Route>\r\n          <Route path=\"/finish-plan-page\">\r\n            <FinishPlanPage />\r\n          </Route>\r\n          <Route path=\"/explore/:slug\">\r\n            <ExploreSinglePage />\r\n          </Route>\r\n        </Switch>\r\n      )}\r\n      <Footer />\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport schedulesReducer from \"./reducers/schedulesReducer\";\r\nimport usersReducer from \"./reducers/usersReducer\";\r\nimport postItsReducer from \"./reducers/postItsReducer\";\r\nimport mapMarksReducer from \"./reducers/mapMarkReducer\";\r\nimport postsReducer from \"./reducers/postsReducer\";\r\nimport finishPlanReducer from \"./reducers/finishPlanReducer\";\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    posts: postsReducer,\r\n    schedules: schedulesReducer,\r\n    users: usersReducer,\r\n    postIts: postItsReducer,\r\n    mapMarks: mapMarksReducer,\r\n    finishPlans: finishPlanReducer,\r\n  },\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App/App\";\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport store from \"./redux/store\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nconst theme = {\r\n  basicColors: {\r\n    white: \"#fff5f6\",\r\n    black: \"#000000\",\r\n    grayLighter: \"#e8e8e8\",\r\n  },\r\n\r\n  primaryColors: {\r\n    primaryLighter: \"#f8dfc2\",\r\n    primaryLight: \"#FFC6B0\",\r\n    primary: \"#ED784A\",\r\n    primaryDark: \"#E98B2A\",\r\n    primaryDarker: \"#7A2F11\",\r\n  },\r\n\r\n  secondaryColors: {\r\n    secondaryLighter: \"#bfdbde\",\r\n    secondaryLight: \"#9bb7ba\",\r\n    secondary: \"#77969A\",\r\n    secondaryDark: \"#5c7b80\",\r\n    secondaryDarker: \"#355257\",\r\n  },\r\n\r\n  fontSizes: {\r\n    extraLarge: \"30px\",\r\n    large: \"26px\",\r\n    medium: \"20px\",\r\n    small: \"16px\",\r\n    extraSmall: \"12px\",\r\n  },\r\n\r\n  titles: {\r\n    h1: \"4.5rem\",\r\n    h2: \"3.5rem\",\r\n    h3: \"2.3rem\",\r\n    h4: \"1.8rem\",\r\n    h5: \"1.6rem\",\r\n    h6: \"1.3rem\",\r\n  },\r\n\r\n  Wrappers: {\r\n    extraLargeWidth: \"1080px\",\r\n    largeWidth: \"936px\",\r\n    mediumWidth: \"691px\",\r\n    smallWidth: \"540px\",\r\n    extraSmallWidth: \"432px\",\r\n  },\r\n\r\n  heights: {\r\n    header: \"60px\",\r\n    homepageHeader: \"400px\",\r\n    footer: \"30px\",\r\n  },\r\n};\r\n\r\nfunction initFacebookSdk() {\r\n  return new Promise((resolve) => {\r\n    resolve();\r\n    //初始化\r\n    window.fbAsyncInit = function () {\r\n      window.FB.init({\r\n        appId: \"382475983013781\",\r\n        cookie: true,\r\n        xfbml: true,\r\n        version: \"v9.0\",\r\n      });\r\n      //記錄用戶行為資料 可在後台查看用戶資訊\r\n      window.FB.AppEvents.logPageView();\r\n    };\r\n    //嵌入臉書sdk\r\n    (function (d, s, id) {\r\n      var js,\r\n        fjs = d.getElementsByTagName(s)[0];\r\n      if (d.getElementById(id)) {\r\n        return;\r\n      }\r\n      js = d.createElement(s);\r\n      js.id = id;\r\n      js.src = \"https://connect.facebook.net/en_US/sdk.js\";\r\n      fjs.parentNode.insertBefore(js, fjs);\r\n    })(document, \"script\", \"facebook-jssdk\");\r\n  });\r\n}\r\n\r\ninitFacebookSdk().then(() => startApp());\r\n\r\nfunction startApp() {\r\n  ReactDOM.render(\r\n    <ThemeProvider theme={theme}>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </ThemeProvider>,\r\n    document.getElementById(\"root\")\r\n  );\r\n}\r\n"],"sourceRoot":""}